<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 450" font-family="system-ui, -apple-system, sans-serif">
  <defs>
    <marker id="arrow-light" viewBox="0 0 10 7" refX="10" refY="3.5" markerWidth="8" markerHeight="6" orient="auto-start-reverse">
      <path d="M 0 0 L 10 3.5 L 0 7 z" fill="#9e9e9e"/>
    </marker>
    <marker id="arrow-dark" viewBox="0 0 10 7" refX="10" refY="3.5" markerWidth="8" markerHeight="6" orient="auto-start-reverse">
      <path d="M 0 0 L 10 3.5 L 0 7 z" fill="#666"/>
    </marker>
  </defs>
  <style>
    .title { font-size: 11px; font-weight: 600; fill: #1a1a1a; }
    .label { font-size: 10px; fill: #555; }
    .code { font-size: 10px; fill: #1a1a1a; font-family: "SFMono-Regular", "Consolas", "Liberation Mono", monospace; }
    .box { fill: #f5f5f5; stroke: #ccc; stroke-width: 1; rx: 8; }
    .box-accent { fill: #f5f5f5; stroke: #009485; stroke-width: 1.5; rx: 8; }
    .box-warn { fill: #f5f5f5; stroke: #e65100; stroke-width: 1.5; rx: 8; }
    .heading { font-size: 13px; font-weight: 700; fill: #009485; }
    .connector { stroke: #9e9e9e; stroke-width: 1.2; fill: none; marker-end: url(#arrow-light); }
    .divider { stroke: #ccc; stroke-width: 1; stroke-dasharray: 4,3; }
    .section-rule { stroke: #009485; stroke-width: 1; opacity: 0.3; }
    .timeline { stroke: #9e9e9e; stroke-width: 2; fill: none; }
    .timeline-accent { stroke: #009485; stroke-width: 2; fill: none; }
    .timeline-warn { stroke: #e65100; stroke-width: 2; fill: none; }
    .brace-label { font-size: 9px; font-weight: 600; fill: #e65100; }
    .brace-label-accent { font-size: 9px; font-weight: 600; fill: #009485; }
    .dot-light { fill: #9e9e9e; }
    .dot-accent { fill: #009485; }
    .dot-warn { fill: #e65100; }
    .prop-label { font-size: 9px; fill: #009485; font-weight: 600; }

    @media (prefers-color-scheme: dark) {
      .title { fill: #e0e0e0; }
      .label { fill: #aaa; }
      .code { fill: #e0e0e0; }
      .box { fill: rgba(255,255,255,0.07); stroke: rgba(255,255,255,0.15); }
      .box-accent { fill: rgba(255,255,255,0.07); stroke: #4db6ac; }
      .box-warn { fill: rgba(255,255,255,0.07); stroke: #ff9800; }
      .heading { fill: #4db6ac; }
      .connector { stroke: #666; marker-end: url(#arrow-dark); }
      .divider { stroke: rgba(255,255,255,0.15); }
      .section-rule { stroke: #4db6ac; }
      .timeline { stroke: #666; }
      .timeline-accent { stroke: #4db6ac; }
      .timeline-warn { stroke: #ff9800; }
      .brace-label { fill: #ff9800; }
      .brace-label-accent { fill: #4db6ac; }
      .dot-light { fill: #666; }
      .dot-accent { fill: #4db6ac; }
      .dot-warn { fill: #ff9800; }
      .prop-label { fill: #4db6ac; }
    }
  </style>

  <!-- ==================== TOP SECTION: Backup Strategy Comparison ==================== -->
  <text x="400" y="22" text-anchor="middle" class="heading">Backup Strategy Comparison</text>
  <line x1="250" y1="27" x2="550" y2="27" class="section-rule"/>

  <!-- ===== Left Column: Logical Backup ===== -->
  <!-- Column heading -->
  <rect x="40" y="42" width="340" height="26" class="box-accent"/>
  <text x="210" y="60" text-anchor="middle" class="title">Logical Backup</text>

  <!-- Database box -->
  <rect x="60" y="84" width="110" height="36" class="box-accent"/>
  <text x="115" y="107" text-anchor="middle" class="title">Database</text>

  <!-- Arrow: Database to SQL Layer -->
  <line x1="170" y1="102" x2="200" y2="102" class="connector"/>

  <!-- SQL Layer box -->
  <rect x="202" y="84" width="90" height="36" class="box"/>
  <text x="247" y="107" text-anchor="middle" class="title">SQL Layer</text>

  <!-- Arrow: SQL Layer to SQL Dump File -->
  <line x1="292" y1="102" x2="302" y2="102" class="connector"/>

  <!-- SQL Dump File box -->
  <rect x="304" y="84" width="76" height="36" class="box"/>
  <text x="342" y="100" text-anchor="middle" class="code">.sql</text>
  <text x="342" y="113" text-anchor="middle" class="label">dump file</text>

  <!-- Properties -->
  <text x="115" y="142" text-anchor="middle" class="prop-label">Portable</text>
  <text x="247" y="142" text-anchor="middle" class="prop-label">Slow</text>
  <text x="342" y="142" text-anchor="middle" class="prop-label">Human-readable</text>

  <!-- ===== Right Column: Physical Backup ===== -->
  <!-- Column heading -->
  <rect x="420" y="42" width="340" height="26" class="box-accent"/>
  <text x="590" y="60" text-anchor="middle" class="title">Physical Backup</text>

  <!-- Database box -->
  <rect x="430" y="84" width="110" height="36" class="box-accent"/>
  <text x="485" y="107" text-anchor="middle" class="title">Database</text>

  <!-- Arrow: Database to Raw File Copy -->
  <line x1="540" y1="102" x2="555" y2="102" class="connector"/>

  <!-- Raw File Copy box -->
  <rect x="557" y="84" width="110" height="36" class="box"/>
  <text x="612" y="100" text-anchor="middle" class="title">Raw File</text>
  <text x="612" y="113" text-anchor="middle" class="title">Copy</text>

  <!-- Arrow: Raw File Copy to Binary Backup -->
  <line x1="667" y1="102" x2="677" y2="102" class="connector"/>

  <!-- Binary Backup box -->
  <rect x="679" y="84" width="76" height="36" class="box"/>
  <text x="717" y="100" text-anchor="middle" class="code">.ibd</text>
  <text x="717" y="113" text-anchor="middle" class="label">binary</text>

  <!-- Properties -->
  <text x="485" y="142" text-anchor="middle" class="prop-label">Fast</text>
  <text x="612" y="142" text-anchor="middle" class="prop-label">Version-specific</text>
  <text x="717" y="142" text-anchor="middle" class="prop-label">PITR support</text>

  <!-- ==================== SEPARATOR ==================== -->
  <line x1="40" y1="165" x2="760" y2="165" class="divider"/>

  <!-- ==================== BOTTOM SECTION: RTO / RPO Timeline ==================== -->
  <text x="400" y="190" text-anchor="middle" class="heading">RTO / RPO Timeline</text>
  <line x1="280" y1="195" x2="520" y2="195" class="section-rule"/>

  <!-- Main timeline axis -->
  <line x1="60" y1="260" x2="740" y2="260" class="timeline"/>

  <!-- Time arrow label -->
  <text x="750" y="264" class="label">time</text>

  <!-- ===== Event 1: Last Backup ===== -->
  <circle cx="120" cy="260" r="5" class="dot-accent"/>
  <rect x="68" y="275" width="104" height="26" class="box-accent"/>
  <text x="120" y="293" text-anchor="middle" class="title">Last Backup</text>

  <!-- ===== Event 2: Transaction Logs ===== -->
  <!-- Dashed line for transaction log accumulation -->
  <line x1="160" y1="260" x2="400" y2="260" stroke-dasharray="3,3" class="timeline-accent"/>
  <text x="280" y="250" text-anchor="middle" class="label">Transaction logs accumulating</text>

  <!-- ===== Event 3: Failure Event ===== -->
  <circle cx="420" cy="260" r="5" class="dot-warn"/>
  <rect x="374" y="275" width="92" height="26" class="box-warn"/>
  <text x="420" y="293" text-anchor="middle" class="title">Failure</text>
  <!-- Failure indicator line -->
  <line x1="420" y1="230" x2="420" y2="255" stroke="#e65100" stroke-width="1.5"/>
  <text x="420" y="225" text-anchor="middle" class="brace-label">X</text>

  <!-- ===== Event 4: Recovery Begins ===== -->
  <circle cx="530" cy="260" r="4" class="dot-light"/>
  <text x="530" y="250" text-anchor="middle" class="label">Recovery begins</text>

  <!-- Recovery work period -->
  <line x1="530" y1="260" x2="660" y2="260" stroke-dasharray="3,3" class="timeline-warn"/>

  <!-- ===== Event 5: System Restored ===== -->
  <circle cx="660" cy="260" r="5" class="dot-accent"/>
  <rect x="600" y="275" width="120" height="26" class="box-accent"/>
  <text x="660" y="293" text-anchor="middle" class="title">System Restored</text>

  <!-- ==================== RPO Bracket ==================== -->
  <!-- RPO spans from Last Backup to Failure -->
  <line x1="120" y1="320" x2="120" y2="335" class="timeline-warn"/>
  <line x1="420" y1="320" x2="420" y2="335" class="timeline-warn"/>
  <line x1="120" y1="335" x2="420" y2="335" class="timeline-warn"/>

  <!-- RPO label -->
  <text x="270" y="352" text-anchor="middle" class="brace-label">RPO</text>
  <text x="270" y="365" text-anchor="middle" class="label">data you might lose</text>

  <!-- ==================== RTO Bracket ==================== -->
  <!-- RTO spans from Failure to System Restored -->
  <line x1="420" y1="320" x2="420" y2="380" class="timeline-accent"/>
  <line x1="660" y1="320" x2="660" y2="380" class="timeline-accent"/>
  <line x1="420" y1="380" x2="660" y2="380" class="timeline-accent"/>

  <!-- RTO label -->
  <text x="540" y="397" text-anchor="middle" class="brace-label-accent">RTO</text>
  <text x="540" y="410" text-anchor="middle" class="label">time until service restored</text>

  <!-- ==================== Legend ==================== -->
  <line x1="40" y1="425" x2="760" y2="425" stroke="#ccc" stroke-width="0.5" stroke-dasharray="4,3"/>
  <circle cx="50" cy="440" r="4" class="dot-accent"/>
  <text x="60" y="443" class="label">Checkpoint</text>
  <circle cx="140" cy="440" r="4" class="dot-warn"/>
  <text x="150" y="443" class="label">Failure event</text>
  <rect x="230" y="433" width="14" height="14" class="box-accent"/>
  <text x="250" y="444" class="label">Backup / Recovery</text>
  <rect x="360" y="433" width="14" height="14" class="box-warn"/>
  <text x="380" y="444" class="label">Incident</text>
</svg>
