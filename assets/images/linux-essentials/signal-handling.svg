<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 650 300">
<defs>
  <marker id="arrow-light" viewBox="0 0 10 7" refX="10" refY="3.5" markerWidth="8" markerHeight="6" orient="auto-start-reverse">
    <path d="M 0 0 L 10 3.5 L 0 7 z" fill="#9e9e9e"/>
  </marker>
  <marker id="arrow-dark" viewBox="0 0 10 7" refX="10" refY="3.5" markerWidth="8" markerHeight="6" orient="auto-start-reverse">
    <path d="M 0 0 L 10 3.5 L 0 7 z" fill="#666"/>
  </marker>
</defs>
<style>
  .title { font-size: 11px; font-weight: 600; fill: #1a1a1a; }
  .label { font-size: 10px; fill: #555; }
  .code { font-size: 10px; fill: #1a1a1a; font-family: "SFMono-Regular", "Consolas", "Liberation Mono", monospace; }
  .box { fill: #f5f5f5; stroke: #ccc; stroke-width: 1; rx: 8; }
  .box-accent { fill: #f5f5f5; stroke: #009485; stroke-width: 1.5; rx: 8; }
  .connector { stroke: #9e9e9e; stroke-width: 1.2; fill: none; marker-end: url(#arrow-light); }
  .heading { font-size: 13px; font-weight: 700; fill: #009485; }
  .result-title { font-size: 9px; font-weight: 600; fill: #009485; text-transform: uppercase; letter-spacing: 0.05em; }

  @media (prefers-color-scheme: dark) {
    .title { fill: #e0e0e0; }
    .label { fill: #aaa; }
    .code { fill: #e0e0e0; }
    .box { fill: rgba(255,255,255,0.07); stroke: rgba(255,255,255,0.15); }
    .box-accent { fill: rgba(255,255,255,0.07); stroke: #4db6ac; }
    .connector { stroke: #666; marker-end: url(#arrow-dark); }
    .heading { fill: #4db6ac; }
    .result-title { fill: #4db6ac; }
  }
</style>

<!-- Heading -->
<text x="325" y="24" text-anchor="middle" class="heading">Common Signal Handling</text>

<!-- Signal Sent start box -->
<rect x="20" y="120" width="100" height="40" class="box-accent"/>
<text x="70" y="144" text-anchor="middle" class="title">Signal Sent</text>

<!-- Connector lines from Signal Sent to each row -->
<!-- Branch point -->
<path d="M 120,140 L 150,140" class="connector" style="marker-end: none;"/>
<line x1="150" y1="55" x2="150" y2="260" stroke="#9e9e9e" stroke-width="1.2" stroke-dasharray="none"/>

<!-- Row 1: SIGTERM (15) -->
<!-- Horizontal to signal box -->
<path d="M 150,55 L 178,55" class="connector"/>
<rect x="180" y="37" width="110" height="36" class="box"/>
<text x="235" y="53" text-anchor="middle" class="code">SIGTERM (15)</text>
<text x="235" y="66" text-anchor="middle" class="label">Graceful terminate</text>

<!-- Arrow to diamond -->
<path d="M 290,55 L 338,55" class="connector"/>

<!-- Decision diamond: Handler registered? -->
<polygon points="370,55 400,35 430,55 400,75" class="box" style="rx: 0;"/>
<text x="400" y="53" text-anchor="middle" class="label" style="font-size: 8px;">Handler</text>
<text x="400" y="62" text-anchor="middle" class="label" style="font-size: 8px;">registered?</text>

<!-- Yes branch (up-right) -->
<path d="M 430,47 C 445,32 460,20 478,20" class="connector"/>
<text x="446" y="26" class="label" style="font-size: 9px;">Yes</text>
<rect x="480" y="5" width="120" height="30" class="box"/>
<text x="540" y="24" text-anchor="middle" class="title">Cleanup + exit</text>

<!-- No branch (down-right) -->
<path d="M 430,63 C 445,78 460,88 478,88" class="connector"/>
<text x="446" y="98" class="label" style="font-size: 9px;">No</text>
<rect x="480" y="73" width="120" height="30" class="box"/>
<text x="540" y="92" text-anchor="middle" class="title">Terminate</text>

<!-- Row 2: SIGKILL (9) -->
<path d="M 150,135 L 178,135" class="connector"/>
<rect x="180" y="117" width="110" height="36" class="box"/>
<text x="235" y="133" text-anchor="middle" class="code">SIGKILL (9)</text>
<text x="235" y="146" text-anchor="middle" class="label">Force kill</text>

<!-- Arrow directly to result (no handler possible) -->
<path d="M 290,135 L 388,135" class="connector"/>
<rect x="390" y="119" width="210" height="32" class="box"/>
<text x="495" y="133" text-anchor="middle" class="title">Kernel terminates immediately</text>
<text x="495" y="146" text-anchor="middle" class="label" style="font-size: 9px; font-style: italic;">Cannot be caught or ignored</text>

<!-- Row 3: SIGTSTP (20) -->
<path d="M 150,200 L 178,200" class="connector"/>
<rect x="180" y="182" width="110" height="36" class="box"/>
<text x="235" y="198" text-anchor="middle" class="code">SIGTSTP (20)</text>
<text x="235" y="211" text-anchor="middle" class="label">Terminal stop</text>

<!-- Arrow to result -->
<path d="M 290,200 L 388,200" class="connector"/>
<rect x="390" y="186" width="140" height="28" class="box"/>
<text x="460" y="204" text-anchor="middle" class="title">Process stopped</text>

<!-- Row 4: SIGCONT (18) -->
<path d="M 150,260 L 178,260" class="connector"/>
<rect x="180" y="242" width="110" height="36" class="box"/>
<text x="235" y="258" text-anchor="middle" class="code">SIGCONT (18)</text>
<text x="235" y="271" text-anchor="middle" class="label">Continue</text>

<!-- Arrow to result -->
<path d="M 290,260 L 388,260" class="connector"/>
<rect x="390" y="246" width="140" height="28" class="box"/>
<text x="460" y="264" text-anchor="middle" class="title">Process resumed</text>

</svg>
