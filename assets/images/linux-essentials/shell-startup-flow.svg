<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 680 520" font-family="system-ui, -apple-system, sans-serif">
  <defs>
    <marker id="arrow-light" viewBox="0 0 10 7" refX="10" refY="3.5" markerWidth="8" markerHeight="6" orient="auto-start-reverse">
      <path d="M 0 0 L 10 3.5 L 0 7 z" fill="#9e9e9e"/>
    </marker>
    <marker id="arrow-dark" viewBox="0 0 10 7" refX="10" refY="3.5" markerWidth="8" markerHeight="6" orient="auto-start-reverse">
      <path d="M 0 0 L 10 3.5 L 0 7 z" fill="#666"/>
    </marker>
  </defs>
  <style>
    .title { font-size: 11px; font-weight: 600; fill: #1a1a1a; }
    .label { font-size: 10px; fill: #555; }
    .code { font-size: 10px; fill: #1a1a1a; font-family: "SFMono-Regular", "Consolas", "Liberation Mono", monospace; }
    .box { fill: #f5f5f5; stroke: #ccc; stroke-width: 1; rx: 8; }
    .box-accent { fill: #f5f5f5; stroke: #009485; stroke-width: 1.5; rx: 8; }
    .diamond { fill: #f5f5f5; stroke: #ccc; stroke-width: 1; }
    .connector { stroke: #9e9e9e; stroke-width: 1.2; fill: none; marker-end: url(#arrow-light); }
    .heading { font-size: 13px; font-weight: 700; fill: #009485; }

    @media (prefers-color-scheme: dark) {
      .title { fill: #e0e0e0; }
      .label { fill: #aaa; }
      .code { fill: #e0e0e0; }
      .box { fill: rgba(255,255,255,0.07); stroke: rgba(255,255,255,0.15); }
      .box-accent { fill: rgba(255,255,255,0.07); stroke: #4db6ac; }
      .diamond { fill: rgba(255,255,255,0.07); stroke: rgba(255,255,255,0.15); }
      .connector { stroke: #666; marker-end: url(#arrow-dark); }
      .heading { fill: #4db6ac; }
    }
  </style>

  <!-- Title -->
  <text x="340" y="24" text-anchor="middle" class="heading">Bash Shell Startup File Load Order</text>

  <!-- ====================== -->
  <!-- Starting box: Shell Starts -->
  <!-- ====================== -->
  <rect x="275" y="40" width="130" height="32" class="box-accent"/>
  <text x="340" y="61" text-anchor="middle" class="title">Shell Starts</text>

  <!-- Connector: Shell Starts → Login shell? diamond -->
  <line x1="340" y1="72" x2="340" y2="100" class="connector"/>

  <!-- ====================== -->
  <!-- Diamond: Login shell? -->
  <!-- ====================== -->
  <polygon points="340,100 410,135 340,170 270,135" class="diamond"/>
  <text x="340" y="133" text-anchor="middle" class="title">Login</text>
  <text x="340" y="145" text-anchor="middle" class="title">shell?</text>

  <!-- ============================================ -->
  <!-- YES branch (left): Login shell path -->
  <!-- ============================================ -->

  <!-- Yes label on connector going left -->
  <line x1="270" y1="135" x2="140" y2="135" class="connector"/>
  <text x="248" y="128" text-anchor="end" class="label">Yes</text>

  <!-- /etc/profile box -->
  <rect x="40" y="119" width="100" height="32" class="box"/>
  <text x="90" y="140" text-anchor="middle" class="code">/etc/profile</text>

  <!-- Connector: /etc/profile → down to "First found" label -->
  <line x1="90" y1="151" x2="90" y2="185" class="connector"/>

  <!-- "First found" annotation -->
  <text x="90" y="200" text-anchor="middle" class="label">First found of:</text>

  <!-- ~/.bash_profile box -->
  <rect x="18" y="212" width="145" height="32" class="box"/>
  <text x="90" y="233" text-anchor="middle" class="code">~/.bash_profile</text>

  <!-- Connector down to ~/.bash_login -->
  <text x="90" y="258" text-anchor="middle" class="label">or</text>

  <!-- ~/.bash_login box -->
  <rect x="28" y="268" width="125" height="32" class="box"/>
  <text x="90" y="289" text-anchor="middle" class="code">~/.bash_login</text>

  <!-- Connector down to ~/.profile -->
  <text x="90" y="314" text-anchor="middle" class="label">or</text>

  <!-- ~/.profile box -->
  <rect x="38" y="324" width="105" height="32" class="box"/>
  <text x="90" y="345" text-anchor="middle" class="code">~/.profile</text>

  <!-- Connector down to logout note -->
  <line x1="90" y1="356" x2="90" y2="395" class="connector"/>

  <!-- On logout label -->
  <text x="90" y="410" text-anchor="middle" class="label">On logout:</text>

  <!-- ~/.bash_logout box -->
  <rect x="22" y="420" width="137" height="32" class="box"/>
  <text x="90" y="441" text-anchor="middle" class="code">~/.bash_logout</text>

  <!-- ============================================ -->
  <!-- NO branch (right): Non-login shell path -->
  <!-- ============================================ -->

  <!-- No label on connector going right -->
  <line x1="410" y1="135" x2="500" y2="135" class="connector"/>
  <text x="432" y="128" text-anchor="start" class="label">No</text>

  <!-- ====================== -->
  <!-- Diamond: Interactive? -->
  <!-- ====================== -->
  <polygon points="570,100 640,135 570,170 500,135" class="diamond"/>
  <text x="570" y="139" text-anchor="middle" class="title">Interactive?</text>

  <!-- ============================================ -->
  <!-- YES branch from Interactive: ~/.bashrc -->
  <!-- ============================================ -->

  <!-- Yes label on connector going down-left -->
  <line x1="570" y1="170" x2="570" y2="205" class="connector"/>
  <text x="580" y="190" text-anchor="start" class="label">Yes</text>

  <!-- ~/.bashrc box -->
  <rect x="510" y="205" width="120" height="32" class="box"/>
  <text x="570" y="226" text-anchor="middle" class="code">~/.bashrc</text>

  <!-- ============================================ -->
  <!-- NO branch from Interactive: $BASH_ENV -->
  <!-- ============================================ -->

  <!-- No label on connector going right then down -->
  <line x1="640" y1="135" x2="660" y2="135" class="connector" style="marker-end: none;"/>
  <line x1="660" y1="135" x2="660" y2="205" class="connector"/>
  <text x="650" y="168" text-anchor="end" class="label">No</text>

  <!-- $BASH_ENV box -->
  <rect x="600" y="205" width="120" height="32" class="box"/>
  <text x="660" y="226" text-anchor="middle" class="code">$BASH_ENV</text>

  <!-- (if set) annotation -->
  <text x="660" y="252" text-anchor="middle" class="label">(if set)</text>

  <!-- ====================== -->
  <!-- Legend / Notes -->
  <!-- ====================== -->
  <line x1="40" y1="485" x2="640" y2="485" stroke="#ccc" stroke-width="0.5" stroke-dasharray="4,3"/>
  <text x="340" y="507" text-anchor="middle" class="label">Most login shells source ~/.bashrc from within ~/.bash_profile</text>
</svg>
