<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 680 400">
<defs>
  <marker id="arrow-light" viewBox="0 0 10 7" refX="10" refY="3.5" markerWidth="8" markerHeight="6" orient="auto-start-reverse">
    <path d="M 0 0 L 10 3.5 L 0 7 z" fill="#9e9e9e"/>
  </marker>
  <marker id="arrow-dark" viewBox="0 0 10 7" refX="10" refY="3.5" markerWidth="8" markerHeight="6" orient="auto-start-reverse">
    <path d="M 0 0 L 10 3.5 L 0 7 z" fill="#666"/>
  </marker>
</defs>
<style>
  .title { font-size: 11px; font-weight: 600; fill: #1a1a1a; }
  .label { font-size: 10px; fill: #555; }
  .code { font-size: 10px; fill: #1a1a1a; font-family: "SFMono-Regular", "Consolas", "Liberation Mono", monospace; }
  .box { fill: #f5f5f5; stroke: #ccc; stroke-width: 1; rx: 8; }
  .box-accent { fill: #f5f5f5; stroke: #009485; stroke-width: 1.5; rx: 8; }
  .diamond { fill: #f5f5f5; stroke: #ccc; stroke-width: 1; }
  .connector { stroke: #9e9e9e; stroke-width: 1.2; fill: none; marker-end: url(#arrow-light); }
  .connector-plain { stroke: #9e9e9e; stroke-width: 1.2; fill: none; }
  .heading { font-size: 13px; font-weight: 700; fill: #009485; }

  @media (prefers-color-scheme: dark) {
    .title { fill: #e0e0e0; }
    .label { fill: #aaa; }
    .code { fill: #e0e0e0; }
    .box { fill: rgba(255,255,255,0.07); stroke: rgba(255,255,255,0.15); }
    .box-accent { fill: rgba(255,255,255,0.07); stroke: #4db6ac; }
    .diamond { fill: rgba(255,255,255,0.07); stroke: rgba(255,255,255,0.15); }
    .connector { stroke: #666; marker-end: url(#arrow-dark); }
    .connector-plain { stroke: #666; }
    .heading { fill: #4db6ac; }
  }
</style>

<!-- Heading -->
<text x="340" y="22" text-anchor="middle" class="heading">System Performance Troubleshooting</text>

<!-- ===== COLUMN POSITIONS =====
  Col 1 (commands):  x-center = 100
  Col 2 (diamonds):  x-center = 260
  Col 3 (results):   x-center = 440
  Rows spaced ~70px apart starting at y=42
-->

<!-- Row 1: System Slow start box -->
<rect x="45" y="42" width="110" height="30" class="box-accent"/>
<text x="100" y="61" text-anchor="middle" class="title">System Slow</text>

<!-- Arrow down to uptime -->
<line x1="100" y1="72" x2="100" y2="90" class="connector"/>

<!-- Row 2: uptime -->
<rect x="55" y="90" width="90" height="26" class="box"/>
<text x="100" y="107" text-anchor="middle" class="code">uptime</text>

<!-- Arrow right to diamond 1 -->
<line x1="145" y1="103" x2="195" y2="103" class="connector"/>

<!-- Diamond 1: load > nproc? -->
<polygon points="260,77 325,103 260,129 195,103" class="diamond"/>
<text x="260" y="100" text-anchor="middle" class="label">load &gt;</text>
<text x="260" y="112" text-anchor="middle" class="label">nproc?</text>

<!-- Yes right to CPU pressure -->
<line x1="325" y1="103" x2="375" y2="103" class="connector"/>
<text x="337" y="97" class="label">Yes</text>
<rect x="375" y="88" width="120" height="30" class="box-accent"/>
<text x="435" y="107" text-anchor="middle" class="title">CPU pressure</text>

<!-- No down from diamond 1 -->
<polyline points="260,129 260,148 100,148 100,160" class="connector"/>
<text x="270" y="142" class="label">No</text>

<!-- Row 3: vmstat -->
<rect x="55" y="160" width="90" height="26" class="box"/>
<text x="100" y="177" text-anchor="middle" class="code">vmstat</text>

<!-- Arrow right to diamond 2 -->
<line x1="145" y1="173" x2="195" y2="173" class="connector"/>

<!-- Diamond 2: wa > 10%? -->
<polygon points="260,147 325,173 260,199 195,173" class="diamond"/>
<text x="260" y="170" text-anchor="middle" class="label">wa &gt;</text>
<text x="260" y="182" text-anchor="middle" class="label">10%?</text>

<!-- Yes right to I/O bottleneck -->
<line x1="325" y1="173" x2="375" y2="173" class="connector"/>
<text x="337" y="167" class="label">Yes</text>
<rect x="375" y="158" width="120" height="30" class="box-accent"/>
<text x="435" y="177" text-anchor="middle" class="title">I/O bottleneck</text>

<!-- No down from diamond 2 -->
<polyline points="260,199 260,218 100,218 100,230" class="connector"/>
<text x="270" y="212" class="label">No</text>

<!-- Row 4: free -->
<rect x="55" y="230" width="90" height="26" class="box"/>
<text x="100" y="247" text-anchor="middle" class="code">free</text>

<!-- Arrow right to diamond 3 -->
<line x1="145" y1="243" x2="195" y2="243" class="connector"/>

<!-- Diamond 3: available low? -->
<polygon points="260,217 325,243 260,269 195,243" class="diamond"/>
<text x="260" y="240" text-anchor="middle" class="label">available</text>
<text x="260" y="252" text-anchor="middle" class="label">low?</text>

<!-- Yes right to Memory pressure -->
<line x1="325" y1="243" x2="375" y2="243" class="connector"/>
<text x="337" y="237" class="label">Yes</text>
<rect x="375" y="228" width="130" height="30" class="box-accent"/>
<text x="440" y="247" text-anchor="middle" class="title">Memory pressure</text>

<!-- No down from diamond 3 -->
<polyline points="260,269 260,288 100,288 100,300" class="connector"/>
<text x="270" y="282" class="label">No</text>

<!-- Row 5: df -->
<rect x="55" y="300" width="90" height="26" class="box"/>
<text x="100" y="317" text-anchor="middle" class="code">df</text>

<!-- Arrow right to diamond 4 -->
<line x1="145" y1="313" x2="195" y2="313" class="connector"/>

<!-- Diamond 4: disk full? -->
<polygon points="260,287 325,313 260,339 195,313" class="diamond"/>
<text x="260" y="310" text-anchor="middle" class="label">disk</text>
<text x="260" y="322" text-anchor="middle" class="label">full?</text>

<!-- Yes right to Disk space issue -->
<line x1="325" y1="313" x2="375" y2="313" class="connector"/>
<text x="337" y="307" class="label">Yes</text>
<rect x="375" y="298" width="130" height="30" class="box-accent"/>
<text x="440" y="317" text-anchor="middle" class="title">Disk space issue</text>

<!-- No down from diamond 4 to Check application logs -->
<line x1="260" y1="339" x2="260" y2="365" class="connector"/>
<text x="270" y="352" class="label">No</text>
<rect x="180" y="365" width="160" height="30" class="box-accent"/>
<text x="260" y="384" text-anchor="middle" class="title">Check application logs</text>

</svg>
