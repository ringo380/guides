
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Practical technical guides on Linux, DNS, Git, databases, and development">
      
      
        <meta name="author" content="Ryan Robson">
      
      
        <link rel="canonical" href="https://ringo380.github.io/guides/Databases/mongodb/">
      
      
        <link rel="prev" href="../nosql-concepts/">
      
      
        <link rel="next" href="../redis/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.2">
    
    
      
        <title>MongoDB - The Runbook</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../assets/stylesheets/interactive.css">
    
      <link rel="stylesheet" href="../../assets/stylesheets/lightbox.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-56L2QXTFGR"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-56L2QXTFGR",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-56L2QXTFGR",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script>
  

    
    
  
<meta property="og:type" content="website" />
<meta property="og:title" content="MongoDB - The Runbook" />
<meta property="og:description" content="Practical technical guides on Linux, DNS, Git, databases, and development" />
<meta property="og:image" content="https://ringo380.github.io/guides/assets/images/social/Databases/mongodb.png" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:url" content="https://ringo380.github.io/guides/Databases/mongodb/" />
<meta property="twitter:card" content="summary_large_image" />
<meta property="twitter:title" content="MongoDB - The Runbook" />
<meta property="twitter:description" content="Practical technical guides on Linux, DNS, Git, databases, and development" />
<meta property="twitter:image" content="https://ringo380.github.io/guides/assets/images/social/Databases/mongodb.png" />
</head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="amber">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#mongodb" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="The Runbook" class="md-header__button md-logo" aria-label="The Runbook" data-md-component="logo">
      
  <img src="../../assets/images/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            The Runbook
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              MongoDB
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="amber"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="amber"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/ringo380/guides" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    ringo380/guides
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Linux%20Essentials/" class="md-tabs__link">
          
  
  
    
  
  Linux Essentials

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../DNS%20Administration/" class="md-tabs__link">
          
  
  
    
  
  DNS Administration

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Git/" class="md-tabs__link">
          
  
  
    
  
  Git

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
    
  
  Databases

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Dev%20Zero/Perl/" class="md-tabs__link">
          
  
  
    
  
  Dev Zero

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="The Runbook" class="md-nav__button md-logo" aria-label="The Runbook" data-md-component="logo">
      
  <img src="../../assets/images/logo.svg" alt="logo">

    </a>
    The Runbook
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ringo380/guides" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    ringo380/guides
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Linux%20Essentials/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Linux Essentials
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Linux Essentials
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Essentials/shell-basics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Shell Basics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Essentials/streams-and-redirection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Streams and Redirection
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Essentials/text-processing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Text Processing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Essentials/finding-files/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Finding Files
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Essentials/file-permissions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    File Permissions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Essentials/job-control/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Job Control
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Essentials/scripting-fundamentals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scripting Fundamentals
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Essentials/disk-and-filesystem/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Disk and Filesystem
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Essentials/networking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Networking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Essentials/system-information/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    System Information
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Essentials/archiving-and-compression/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Archiving and Compression
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Essentials/best-practices/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Best Practices
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../DNS%20Administration/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    DNS Administration
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    DNS Administration
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DNS%20Administration/dns-fundamentals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DNS Fundamentals
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DNS%20Administration/zone-files-and-records/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Zone Files and Records
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DNS%20Administration/dns-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DNS Tools and Troubleshooting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DNS%20Administration/bind/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    BIND
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DNS%20Administration/nsd-and-unbound/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    NSD and Unbound
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DNS%20Administration/powerdns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PowerDNS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DNS%20Administration/dnssec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DNSSEC
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DNS%20Administration/dns-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DNS Architecture and Operations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Git/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Git
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Git
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/three-trees/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    The Three Trees
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/commits-and-history/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Commits and History
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/branches-and-merging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Branches and Merging
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/remote-repositories/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Remote Repositories
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/rewriting-history/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Rewriting History
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/stashing-and-worktree/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Stashing and the Worktree
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/configuring-git/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuring Git
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/object-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    The Object Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/refs-reflog-dag/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Refs, the Reflog, and the DAG
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/transfer-protocols/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Transfer Protocols
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/collaboration-workflows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Collaboration Workflows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/platforms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Platforms
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/hooks-and-automation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hooks and Automation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Security
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/monorepos-and-scaling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Monorepos and Scaling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/troubleshooting-and-recovery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting and Recovery
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Databases
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Databases
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../database-fundamentals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Database Fundamentals
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sql-essentials/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SQL Essentials
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../database-design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Database Design & Modeling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mysql-installation-and-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MySQL Installation & Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mysql-administration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MySQL Administration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mysql-performance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MySQL Performance & Optimization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mysql-replication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MySQL Replication & HA
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../postgresql-fundamentals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PostgreSQL Fundamentals
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../postgresql-administration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PostgreSQL Administration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../postgresql-advanced/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PostgreSQL Advanced Features
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nosql-concepts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    NoSQL Concepts & Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    MongoDB
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    MongoDB
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-document-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Document Model
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Document Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-simple-document" class="md-nav__link">
    <span class="md-ellipsis">
      
        A Simple Document
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bson-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        BSON Types
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-_id-field" class="md-nav__link">
    <span class="md-ellipsis">
      
        The _id Field
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-mongosh-shell" class="md-nav__link">
    <span class="md-ellipsis">
      
        The mongosh Shell
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The mongosh Shell">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#connecting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Connecting
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#essential-commands" class="md-nav__link">
    <span class="md-ellipsis">
      
        Essential Commands
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customizing-with-mongoshrcjs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Customizing with .mongoshrc.js
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#crud-operations" class="md-nav__link">
    <span class="md-ellipsis">
      
        CRUD Operations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CRUD Operations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-inserting-documents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create: Inserting Documents
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-finding-documents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Read: Finding Documents
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Read: Finding Documents">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#query-operators" class="md-nav__link">
    <span class="md-ellipsis">
      
        Query Operators
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sorting-limiting-and-skipping" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sorting, Limiting, and Skipping
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-modifying-documents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Update: Modifying Documents
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-removing-documents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Delete: Removing Documents
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-aggregation-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Aggregation Pipeline
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Aggregation Pipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pipeline-stages" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pipeline Stages
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pipeline Stages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#match-filter-documents" class="md-nav__link">
    <span class="md-ellipsis">
      
        $match - Filter Documents
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#group-aggregate-values" class="md-nav__link">
    <span class="md-ellipsis">
      
        $group - Aggregate Values
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sort-project-limit-skip" class="md-nav__link">
    <span class="md-ellipsis">
      
        $sort, $project, $limit, $skip
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lookup-join-collections" class="md-nav__link">
    <span class="md-ellipsis">
      
        $lookup - Join Collections
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unwind-flatten-arrays" class="md-nav__link">
    <span class="md-ellipsis">
      
        $unwind - Flatten Arrays
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#practical-example-revenue-by-category" class="md-nav__link">
    <span class="md-ellipsis">
      
        Practical Example: Revenue by Category
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#indexes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Indexes
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Indexes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#single-field-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Single Field Indexes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compound-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Compound Indexes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unique-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Unique Indexes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#text-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Text Indexes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geospatial-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Geospatial Indexes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ttl-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      
        TTL Indexes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-planning-with-explain" class="md-nav__link">
    <span class="md-ellipsis">
      
        Query Planning with explain()
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#replica-sets" class="md-nav__link">
    <span class="md-ellipsis">
      
        Replica Sets
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Replica Sets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        Architecture
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#elections" class="md-nav__link">
    <span class="md-ellipsis">
      
        Elections
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-preferences" class="md-nav__link">
    <span class="md-ellipsis">
      
        Read Preferences
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write-concern" class="md-nav__link">
    <span class="md-ellipsis">
      
        Write Concern
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sharding" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sharding
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sharding">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#shard-key-selection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Shard Key Selection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hashed-vs-ranged-sharding" class="md-nav__link">
    <span class="md-ellipsis">
      
        Hashed vs Ranged Sharding
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chunks-and-balancing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Chunks and Balancing
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-builder" class="md-nav__link">
    <span class="md-ellipsis">
      
        Command Builder
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#putting-it-all-together" class="md-nav__link">
    <span class="md-ellipsis">
      
        Putting It All Together
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-reading" class="md-nav__link">
    <span class="md-ellipsis">
      
        Further Reading
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../redis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Redis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../backup-and-recovery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Backup & Recovery Strategies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../database-security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Database Security
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scaling-and-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scaling & Architecture Patterns
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../innodb-recovery-pdrt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    InnoDB Recovery with PDRT
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Dev Zero
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Dev Zero
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Dev%20Zero/Perl/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Perl
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Perl
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/perl_dev0_introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/scalars-strings-numbers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scalars, Strings, and Numbers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/arrays-hashes-lists/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Arrays, Hashes, and Lists
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/control-flow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Control Flow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/regular-expressions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Regular Expressions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/subroutines-references/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Subroutines and References
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/file-io-and-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    File I/O and System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/modules-and-cpan/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Modules and CPAN
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/object-oriented-perl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Object-Oriented Perl
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/error-handling-debugging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Error Handling and Debugging
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/text-processing-oneliners/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Text Processing and One-Liners
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/networking-daemons/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Networking and Daemons
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/web-frameworks-apis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Web Frameworks and APIs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/perl_developer_roadmap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Developer Roadmap
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-document-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Document Model
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Document Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-simple-document" class="md-nav__link">
    <span class="md-ellipsis">
      
        A Simple Document
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bson-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        BSON Types
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-_id-field" class="md-nav__link">
    <span class="md-ellipsis">
      
        The _id Field
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-mongosh-shell" class="md-nav__link">
    <span class="md-ellipsis">
      
        The mongosh Shell
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The mongosh Shell">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#connecting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Connecting
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#essential-commands" class="md-nav__link">
    <span class="md-ellipsis">
      
        Essential Commands
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customizing-with-mongoshrcjs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Customizing with .mongoshrc.js
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#crud-operations" class="md-nav__link">
    <span class="md-ellipsis">
      
        CRUD Operations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CRUD Operations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-inserting-documents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create: Inserting Documents
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-finding-documents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Read: Finding Documents
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Read: Finding Documents">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#query-operators" class="md-nav__link">
    <span class="md-ellipsis">
      
        Query Operators
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sorting-limiting-and-skipping" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sorting, Limiting, and Skipping
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-modifying-documents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Update: Modifying Documents
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-removing-documents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Delete: Removing Documents
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-aggregation-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Aggregation Pipeline
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Aggregation Pipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pipeline-stages" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pipeline Stages
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pipeline Stages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#match-filter-documents" class="md-nav__link">
    <span class="md-ellipsis">
      
        $match - Filter Documents
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#group-aggregate-values" class="md-nav__link">
    <span class="md-ellipsis">
      
        $group - Aggregate Values
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sort-project-limit-skip" class="md-nav__link">
    <span class="md-ellipsis">
      
        $sort, $project, $limit, $skip
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lookup-join-collections" class="md-nav__link">
    <span class="md-ellipsis">
      
        $lookup - Join Collections
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unwind-flatten-arrays" class="md-nav__link">
    <span class="md-ellipsis">
      
        $unwind - Flatten Arrays
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#practical-example-revenue-by-category" class="md-nav__link">
    <span class="md-ellipsis">
      
        Practical Example: Revenue by Category
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#indexes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Indexes
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Indexes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#single-field-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Single Field Indexes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compound-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Compound Indexes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unique-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Unique Indexes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#text-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Text Indexes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geospatial-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Geospatial Indexes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ttl-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      
        TTL Indexes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-planning-with-explain" class="md-nav__link">
    <span class="md-ellipsis">
      
        Query Planning with explain()
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#replica-sets" class="md-nav__link">
    <span class="md-ellipsis">
      
        Replica Sets
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Replica Sets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        Architecture
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#elections" class="md-nav__link">
    <span class="md-ellipsis">
      
        Elections
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-preferences" class="md-nav__link">
    <span class="md-ellipsis">
      
        Read Preferences
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write-concern" class="md-nav__link">
    <span class="md-ellipsis">
      
        Write Concern
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sharding" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sharding
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sharding">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#shard-key-selection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Shard Key Selection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hashed-vs-ranged-sharding" class="md-nav__link">
    <span class="md-ellipsis">
      
        Hashed vs Ranged Sharding
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chunks-and-balancing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Chunks and Balancing
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-builder" class="md-nav__link">
    <span class="md-ellipsis">
      
        Command Builder
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#putting-it-all-together" class="md-nav__link">
    <span class="md-ellipsis">
      
        Putting It All Together
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-reading" class="md-nav__link">
    <span class="md-ellipsis">
      
        Further Reading
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/ringo380/guides/edit/main/Databases/mongodb.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="mongodb">MongoDB<a class="headerlink" href="#mongodb" title="Permanent link">&para;</a></h1>
<p><a href="https://www.mongodb.com/docs/manual/"><strong>MongoDB</strong></a> is the most widely adopted document database. Instead of rows and columns, you work with flexible JSON-like documents that map naturally to objects in your application code. No rigid schema, no required joins, no impedance mismatch between your data layer and your programming language.</p>
<p>This guide covers the document model, CRUD operations, the aggregation pipeline, indexing, replica sets, sharding, and the <code>mongosh</code> shell.</p>
<hr />
<h2 id="the-document-model">The Document Model<a class="headerlink" href="#the-document-model" title="Permanent link">&para;</a></h2>
<p>MongoDB stores data as <strong>BSON</strong> (Binary JSON) documents - a binary-encoded superset of JSON that adds data types JSON lacks. A document is a set of key-value pairs, analogous to a row in a relational table but far more flexible.</p>
<h3 id="a-simple-document">A Simple Document<a class="headerlink" href="#a-simple-document" title="Permanent link">&para;</a></h3>
<div class="language-json highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="p">{</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">  </span><span class="nt">&quot;_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">Objec</span><span class="kc">t</span><span class="err">Id(</span><span class="s2">&quot;65a1b2c3d4e5f6a7b8c9d0e1&quot;</span><span class="err">)</span><span class="p">,</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Jane Chen&quot;</span><span class="p">,</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">  </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;jane@example.com&quot;</span><span class="p">,</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">  </span><span class="nt">&quot;age&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">34</span><span class="p">,</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">  </span><span class="nt">&quot;roles&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;admin&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;developer&quot;</span><span class="p">],</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">  </span><span class="nt">&quot;address&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">    </span><span class="nt">&quot;street&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;742 Evergreen Terrace&quot;</span><span class="p">,</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">    </span><span class="nt">&quot;city&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Portland&quot;</span><span class="p">,</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">    </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;OR&quot;</span><span class="p">,</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="w">    </span><span class="nt">&quot;zip&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;97201&quot;</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="w">  </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">ISODa</span><span class="kc">te</span><span class="err">(</span><span class="s2">&quot;2024-01-15T09:30:00Z&quot;</span><span class="err">)</span><span class="p">,</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="w">  </span><span class="nt">&quot;active&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="p">}</span>
</span></code></pre></div>
<p>Arrays, nested sub-documents, and typed fields beyond what plain JSON supports - all in a single document.</p>
<h3 id="bson-types">BSON Types<a class="headerlink" href="#bson-types" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>String</td>
<td><code>"hello"</code></td>
<td>UTF-8 encoded</td>
</tr>
<tr>
<td>Int32</td>
<td><code>NumberInt(42)</code></td>
<td>32-bit signed integer</td>
</tr>
<tr>
<td>Int64</td>
<td><code>NumberLong(9007199254740993)</code></td>
<td>64-bit signed integer</td>
</tr>
<tr>
<td>Double</td>
<td><code>3.14159</code></td>
<td>64-bit IEEE 754 floating point</td>
</tr>
<tr>
<td>Decimal128</td>
<td><code>NumberDecimal("19.99")</code></td>
<td>128-bit decimal - use for currency</td>
</tr>
<tr>
<td>Boolean</td>
<td><code>true</code> / <code>false</code></td>
<td></td>
</tr>
<tr>
<td>Date</td>
<td><code>ISODate("2024-01-15T09:30:00Z")</code></td>
<td>UTC datetime, millisecond precision</td>
</tr>
<tr>
<td>ObjectId</td>
<td><code>ObjectId("65a1...")</code></td>
<td>12-byte unique identifier</td>
</tr>
<tr>
<td>Array</td>
<td><code>["a", "b", "c"]</code></td>
<td>Ordered list of any BSON types</td>
</tr>
<tr>
<td>Embedded Document</td>
<td><code>{ "key": "value" }</code></td>
<td>Nested document</td>
</tr>
<tr>
<td>Binary</td>
<td><code>BinData(0, "base64...")</code></td>
<td>Arbitrary binary data</td>
</tr>
<tr>
<td>Null</td>
<td><code>null</code></td>
<td>Explicit null value</td>
</tr>
</tbody>
</table>
<div class="admonition tip">
<p class="admonition-title">Decimal128 for money</p>
<p>Never use <code>Double</code> for financial data. Floating-point arithmetic produces rounding errors (<code>0.1 + 0.2 = 0.30000000000000004</code>). <code>Decimal128</code> provides exact decimal representation - use it for prices, balances, and any value where precision matters.</p>
</div>
<h3 id="the-_id-field">The _id Field<a class="headerlink" href="#the-_id-field" title="Permanent link">&para;</a></h3>
<p>Every document must have an <strong><code>_id</code></strong> field that acts as the primary key. If you don't provide one, MongoDB generates an <strong>ObjectId</strong> automatically - a 12-byte value containing a timestamp (4 bytes), random value (5 bytes), and incrementing counter (3 bytes). ObjectIds are roughly time-ordered and globally unique without coordination.</p>
<p>A single BSON document cannot exceed <strong>16 MB</strong>. If your data model approaches this limit, restructure it into separate documents or use <strong>GridFS</strong> for large files.</p>
<hr />
<h2 id="the-mongosh-shell">The mongosh Shell<a class="headerlink" href="#the-mongosh-shell" title="Permanent link">&para;</a></h2>
<p><a href="https://www.mongodb.com/docs/mongodb-shell/"><strong>mongosh</strong></a> is MongoDB's modern command-line shell - a JavaScript REPL with syntax highlighting, auto-completion, and full MongoDB API access.</p>
<h3 id="connecting">Connecting<a class="headerlink" href="#connecting" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># Connect to localhost on default port 27017</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>mongosh
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="c1"># Connect to a specific host and database</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>mongosh<span class="w"> </span><span class="s2">&quot;mongodb://192.168.1.50:27017/myapp&quot;</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="c1"># Connect to a replica set</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>mongosh<span class="w"> </span><span class="s2">&quot;mongodb://host1:27017,host2:27017,host3:27017/myapp?replicaSet=rs0&quot;</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="c1"># Connect with authentication</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>mongosh<span class="w"> </span><span class="s2">&quot;mongodb://admin:password@localhost:27017/admin&quot;</span>
</span></code></pre></div>
<h3 id="essential-commands">Essential Commands<a class="headerlink" href="#essential-commands" title="Permanent link">&para;</a></h3>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nx">show</span><span class="w"> </span><span class="nx">dbs</span><span class="w">              </span><span class="c1">// List databases</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="nx">use</span><span class="w"> </span><span class="nx">myapp</span><span class="w">             </span><span class="c1">// Switch database (creates on first write)</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="nx">show</span><span class="w"> </span><span class="nx">collections</span><span class="w">      </span><span class="c1">// List collections in current database</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="nx">db</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">stats</span><span class="p">()</span><span class="w">      </span><span class="c1">// Collection statistics</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="nx">db</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">help</span><span class="p">()</span><span class="w">       </span><span class="c1">// Method help</span>
</span></code></pre></div>
<h3 id="customizing-with-mongoshrcjs">Customizing with .mongoshrc.js<a class="headerlink" href="#customizing-with-mongoshrcjs" title="Permanent link">&para;</a></h3>
<p>Create <code>~/.mongoshrc.js</code> to add shell aliases and custom prompts:</p>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1">// ~/.mongoshrc.js</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="kd">const</span><span class="w"> </span><span class="nx">last</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">coll</span><span class="p">,</span><span class="w"> </span><span class="nx">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">5</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">db</span><span class="p">[</span><span class="nx">coll</span><span class="p">].</span><span class="nx">find</span><span class="p">().</span><span class="nx">sort</span><span class="p">({</span><span class="w"> </span><span class="nx">_id</span><span class="o">:</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="w"> </span><span class="p">}).</span><span class="nx">limit</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="kd">const</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">coll</span><span class="p">,</span><span class="w"> </span><span class="nx">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">db</span><span class="p">[</span><span class="nx">coll</span><span class="p">].</span><span class="nx">countDocuments</span><span class="p">(</span><span class="nx">query</span><span class="p">);</span>
</span></code></pre></div>
<hr />
<h2 id="crud-operations">CRUD Operations<a class="headerlink" href="#crud-operations" title="Permanent link">&para;</a></h2>
<p>All operations target a single <strong>collection</strong> (the rough equivalent of a relational table).</p>
<h3 id="create-inserting-documents">Create: Inserting Documents<a class="headerlink" href="#create-inserting-documents" title="Permanent link">&para;</a></h3>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1">// Insert a single document</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="nx">db</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">insertOne</span><span class="p">({</span><span class="w"> </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Alice Rivera&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;alice@example.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">age</span><span class="o">:</span><span class="w"> </span><span class="mf">28</span><span class="p">,</span><span class="w"> </span><span class="nx">department</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Engineering&quot;</span><span class="w"> </span><span class="p">})</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="c1">// Insert multiple documents</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="nx">db</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">insertMany</span><span class="p">([</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Bob Park&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;bob@example.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">age</span><span class="o">:</span><span class="w"> </span><span class="mf">35</span><span class="p">,</span><span class="w"> </span><span class="nx">department</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Marketing&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Carol Okafor&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;carol@example.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">age</span><span class="o">:</span><span class="w"> </span><span class="mf">42</span><span class="p">,</span><span class="w"> </span><span class="nx">department</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Engineering&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Dave Singh&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;dave@example.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">age</span><span class="o">:</span><span class="w"> </span><span class="mf">31</span><span class="p">,</span><span class="w"> </span><span class="nx">department</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Sales&quot;</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="p">])</span>
</span></code></pre></div>
<p>Both methods generate <code>_id</code> values automatically if omitted.</p>
<h3 id="read-finding-documents">Read: Finding Documents<a class="headerlink" href="#read-finding-documents" title="Permanent link">&para;</a></h3>
<p>Pass a <strong>filter document</strong> to match records and an optional <strong>projection</strong> to control which fields come back.</p>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nx">db</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">find</span><span class="p">()</span><span class="w">                                             </span><span class="c1">// all documents</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="nx">db</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">findOne</span><span class="p">({</span><span class="w"> </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;alice@example.com&quot;</span><span class="w"> </span><span class="p">})</span><span class="w">            </span><span class="c1">// single match</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="nx">db</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">find</span><span class="p">({</span><span class="w"> </span><span class="nx">department</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Engineering&quot;</span><span class="w"> </span><span class="p">})</span><span class="w">                </span><span class="c1">// equality filter</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="nx">db</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">find</span><span class="p">({</span><span class="w"> </span><span class="nx">department</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Engineering&quot;</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">_id</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="p">})</span><span class="w">  </span><span class="c1">// with projection</span>
</span></code></pre></div>
<h4 id="query-operators">Query Operators<a class="headerlink" href="#query-operators" title="Permanent link">&para;</a></h4>
<p><strong>Query operators</strong> prefixed with <code>$</code> handle comparisons beyond simple equality:</p>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1">// Comparison</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="nx">db</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">find</span><span class="p">({</span><span class="w"> </span><span class="nx">age</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$gt</span><span class="o">:</span><span class="w"> </span><span class="mf">30</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">})</span><span class="w">                        </span><span class="c1">// greater than</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="nx">db</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">find</span><span class="p">({</span><span class="w"> </span><span class="nx">age</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$gte</span><span class="o">:</span><span class="w"> </span><span class="mf">28</span><span class="p">,</span><span class="w"> </span><span class="nx">$lte</span><span class="o">:</span><span class="w"> </span><span class="mf">42</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">})</span><span class="w">             </span><span class="c1">// range</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="c1">// Membership</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="nx">db</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">find</span><span class="p">({</span><span class="w"> </span><span class="nx">department</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$in</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Engineering&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Sales&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">})</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="c1">// Logical</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="nx">db</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">find</span><span class="p">({</span><span class="w"> </span><span class="nx">$and</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nx">age</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$gt</span><span class="o">:</span><span class="w"> </span><span class="mf">25</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">department</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Engineering&quot;</span><span class="w"> </span><span class="p">}]</span><span class="w"> </span><span class="p">})</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="nx">db</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">find</span><span class="p">({</span><span class="w"> </span><span class="nx">$or</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nx">department</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Engineering&quot;</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">department</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Sales&quot;</span><span class="w"> </span><span class="p">}]</span><span class="w"> </span><span class="p">})</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="c1">// Pattern matching and existence</span>
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a><span class="nx">db</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">find</span><span class="p">({</span><span class="w"> </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$regex</span><span class="o">:</span><span class="w"> </span><span class="sr">/^A/i</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">})</span><span class="w">                 </span><span class="c1">// names starting with A</span>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="nx">db</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">find</span><span class="p">({</span><span class="w"> </span><span class="nx">phone</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$exists</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">})</span><span class="w">                 </span><span class="c1">// has a phone field</span>
</span></code></pre></div>
<div class="admonition note">
<p class="admonition-title">Implicit $and</p>
<p>When you specify multiple conditions in the same filter document, MongoDB treats them as an implicit <code>$and</code>. Writing <code>{ age: { $gt: 25 }, department: "Engineering" }</code> is equivalent to using <code>$and</code> explicitly. You only need <code>$and</code> when you have multiple conditions on the same field.</p>
</div>
<h4 id="sorting-limiting-and-skipping">Sorting, Limiting, and Skipping<a class="headerlink" href="#sorting-limiting-and-skipping" title="Permanent link">&para;</a></h4>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="nx">db</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">find</span><span class="p">().</span><span class="nx">sort</span><span class="p">({</span><span class="w"> </span><span class="nx">age</span><span class="o">:</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="p">})</span><span class="w">     </span><span class="c1">// sort by age desc, name asc</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="nx">db</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">find</span><span class="p">().</span><span class="nx">limit</span><span class="p">(</span><span class="mf">10</span><span class="p">)</span><span class="w">                       </span><span class="c1">// limit results</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="nx">db</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">find</span><span class="p">().</span><span class="nx">skip</span><span class="p">(</span><span class="mf">20</span><span class="p">).</span><span class="nx">limit</span><span class="p">(</span><span class="mf">10</span><span class="p">)</span><span class="w">              </span><span class="c1">// pagination (page 3, 10 per page)</span>
</span></code></pre></div>
<div class="interactive-terminal" data-config="{&quot;title&quot;: &quot;MongoDB CRUD Operations&quot;, &quot;steps&quot;: [{&quot;command&quot;: &quot;mongosh \&quot;mongodb://localhost:27017/runbook_demo\&quot;&quot;, &quot;output&quot;: &quot;Connecting to: mongodb://localhost:27017/runbook_demo\nUsing MongoDB: 7.0.4\nUsing Mongosh: 2.1.1\nrunbook_demo>\n&quot;, &quot;narration&quot;: &quot;Connect to a local MongoDB instance. The runbook_demo database is created automatically on first write.&quot;}, {&quot;command&quot;: &quot;db.products.insertMany([{ name: \&quot;Keyboard\&quot;, price: 79.99, category: \&quot;peripherals\&quot;, stock: 150 }, { name: \&quot;Mouse\&quot;, price: 49.99, category: \&quot;peripherals\&quot;, stock: 300 }, { name: \&quot;Monitor\&quot;, price: 399.99, category: \&quot;displays\&quot;, stock: 45 }, { name: \&quot;Webcam\&quot;, price: 89.99, category: \&quot;peripherals\&quot;, stock: 0 }])&quot;, &quot;output&quot;: &quot;{ acknowledged: true, insertedIds: { &#39;0&#39;: ObjectId(&#39;65b3...d0&#39;), &#39;1&#39;: ObjectId(&#39;65b3...d1&#39;), &#39;2&#39;: ObjectId(&#39;65b3...d2&#39;), &#39;3&#39;: ObjectId(&#39;65b3...d3&#39;) } }\n&quot;, &quot;narration&quot;: &quot;Insert four product documents. MongoDB auto-generates an ObjectId for each since we omitted _id values.&quot;}, {&quot;command&quot;: &quot;db.products.find({ category: \&quot;peripherals\&quot; }, { name: 1, price: 1, _id: 0 })&quot;, &quot;output&quot;: &quot;[ { name: &#39;Keyboard&#39;, price: 79.99 }, { name: &#39;Mouse&#39;, price: 49.99 }, { name: &#39;Webcam&#39;, price: 89.99 } ]\n&quot;, &quot;narration&quot;: &quot;Query for peripherals with a projection. Setting _id: 0 suppresses the _id field, which is included by default.&quot;}, {&quot;command&quot;: &quot;db.products.find({ price: { $gt: 50 }, stock: { $gt: 0 } }).sort({ price: 1 })&quot;, &quot;output&quot;: &quot;[\n  { name: &#39;Keyboard&#39;, price: 79.99, category: &#39;peripherals&#39;, stock: 150 },\n  { name: &#39;Monitor&#39;, price: 399.99, category: &#39;displays&#39;, stock: 45 }\n]\n&quot;, &quot;narration&quot;: &quot;Find products over $50 that are in stock, sorted by price ascending. The Webcam is excluded because its stock is 0.&quot;}, {&quot;command&quot;: &quot;db.products.updateOne({ name: \&quot;Mouse\&quot; }, { $set: { price: 44.99 }, $inc: { stock: -1 } })&quot;, &quot;output&quot;: &quot;{ acknowledged: true, matchedCount: 1, modifiedCount: 1 }\n&quot;, &quot;narration&quot;: &quot;Update the Mouse: set a new price and decrement stock by 1. $set replaces field values; $inc adds to them (negative values subtract).&quot;}, {&quot;command&quot;: &quot;db.products.deleteOne({ name: \&quot;Webcam\&quot; })&quot;, &quot;output&quot;: &quot;{ acknowledged: true, deletedCount: 1 }\n&quot;, &quot;narration&quot;: &quot;Delete the out-of-stock webcam. deleteOne removes the first matching document. Use deleteMany to remove all matches.&quot;}, {&quot;command&quot;: &quot;db.products.countDocuments({ category: \&quot;peripherals\&quot; })&quot;, &quot;output&quot;: &quot;2&quot;, &quot;narration&quot;: &quot;Count remaining peripherals. The webcam is gone, leaving only the keyboard and mouse.&quot;}]}"><noscript><p><strong>MongoDB CRUD Operations</strong> (requires JavaScript)</p></noscript></div>
<h3 id="update-modifying-documents">Update: Modifying Documents<a class="headerlink" href="#update-modifying-documents" title="Permanent link">&para;</a></h3>
<p><strong>Update operators</strong> modify specific fields without replacing the entire document:</p>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1">// Set or change fields</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="nx">db</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">updateOne</span><span class="p">({</span><span class="w"> </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;alice@example.com&quot;</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$set</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">age</span><span class="o">:</span><span class="w"> </span><span class="mf">29</span><span class="p">,</span><span class="w"> </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Senior Engineer&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">})</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="c1">// Remove a field entirely</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="nx">db</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">updateOne</span><span class="p">({</span><span class="w"> </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;bob@example.com&quot;</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$unset</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">phone</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">})</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="c1">// Increment a numeric field</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="nx">db</span><span class="p">.</span><span class="nx">orders</span><span class="p">.</span><span class="nx">updateOne</span><span class="p">({</span><span class="w"> </span><span class="nx">_id</span><span class="o">:</span><span class="w"> </span><span class="nx">orderId</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$inc</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">quantity</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">})</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="c1">// Add to / remove from an array</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="nx">db</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">updateOne</span><span class="p">({</span><span class="w"> </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;alice@example.com&quot;</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$push</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">roles</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;team-lead&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">})</span>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="nx">db</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">updateOne</span><span class="p">({</span><span class="w"> </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;alice@example.com&quot;</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$pull</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">roles</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;junior&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">})</span>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a>
</span><span id="__span-8-14"><a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a><span class="c1">// Update multiple documents</span>
</span><span id="__span-8-15"><a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a><span class="nx">db</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">updateMany</span><span class="p">({</span><span class="w"> </span><span class="nx">department</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Engineering&quot;</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$set</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">building</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;HQ-3&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">})</span>
</span></code></pre></div>
<div class="admonition danger">
<p class="admonition-title">Don't forget the operator</p>
<p>If you pass a plain document as the second argument to <code>updateOne</code> without <code>$set</code>, MongoDB replaces the entire document (except <code>_id</code>) with that object. This is almost never what you want. Always use update operators like <code>$set</code>, <code>$inc</code>, <code>$push</code>, etc.</p>
</div>
<h3 id="delete-removing-documents">Delete: Removing Documents<a class="headerlink" href="#delete-removing-documents" title="Permanent link">&para;</a></h3>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="nx">db</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">deleteOne</span><span class="p">({</span><span class="w"> </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;dave@example.com&quot;</span><span class="w"> </span><span class="p">})</span><span class="w">    </span><span class="c1">// Delete one match</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="nx">db</span><span class="p">.</span><span class="nx">sessions</span><span class="p">.</span><span class="nx">deleteMany</span><span class="p">({</span><span class="w"> </span><span class="nx">expired</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">})</span><span class="w">             </span><span class="c1">// Delete all matches</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="nx">db</span><span class="p">.</span><span class="nx">temp_data</span><span class="p">.</span><span class="nx">deleteMany</span><span class="p">({})</span><span class="w">                           </span><span class="c1">// Delete everything (careful!)</span>
</span></code></pre></div>
<div class="interactive-quiz" data-config="{&quot;question&quot;: &quot;What happens if you call updateOne with { name: &#39;New Name&#39; } as the second argument (no $set operator)?&quot;, &quot;type&quot;: &quot;multiple-choice&quot;, &quot;options&quot;: [{&quot;text&quot;: &quot;MongoDB updates only the name field, leaving other fields unchanged&quot;, &quot;feedback&quot;: &quot;This would be true if you used { $set: { name: &#39;New Name&#39; } }. Without $set, the behavior is different and destructive.&quot;}, {&quot;text&quot;: &quot;MongoDB replaces the entire document with { name: &#39;New Name&#39; }, keeping only _id&quot;, &quot;correct&quot;: true, &quot;feedback&quot;: &quot;Correct! Without an update operator, MongoDB performs a full document replacement. The matched document becomes { _id: ..., name: &#39;New Name&#39; } and all other fields are lost. Always use $set to modify individual fields.&quot;}, {&quot;text&quot;: &quot;MongoDB throws an error because the update document is invalid&quot;, &quot;feedback&quot;: &quot;MongoDB does not throw an error - it silently replaces the document. This is a common mistake that leads to data loss. Modern drivers may warn about this, but the server accepts it.&quot;}, {&quot;text&quot;: &quot;MongoDB adds a new document with that name&quot;, &quot;feedback&quot;: &quot;updateOne modifies an existing document, not creates one. To create on miss, you&#39;d use the upsert option. But the real issue here is the missing $set operator.&quot;}]}"><noscript><p><strong>What happens if you call updateOne with { name: 'New Name' } as the second argument (no $set operator)?</strong> (requires JavaScript)</p></noscript></div>
<hr />
<h2 id="the-aggregation-pipeline">The Aggregation Pipeline<a class="headerlink" href="#the-aggregation-pipeline" title="Permanent link">&para;</a></h2>
<p>The <strong>aggregation pipeline</strong> processes documents through a sequence of <strong>stages</strong>, each transforming data before passing it to the next - like a Unix pipeline for your database.</p>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="nx">db</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">aggregate</span><span class="p">([</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">$stage1</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">$stage2</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">$stage3</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="p">])</span>
</span></code></pre></div>
<h3 id="pipeline-stages">Pipeline Stages<a class="headerlink" href="#pipeline-stages" title="Permanent link">&para;</a></h3>
<h4 id="match-filter-documents">$match - Filter Documents<a class="headerlink" href="#match-filter-documents" title="Permanent link">&para;</a></h4>
<p>Works like <code>find</code> but as a pipeline stage. Place <code>$match</code> as early as possible to reduce documents flowing through later stages.</p>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="p">{</span><span class="w"> </span><span class="nx">$match</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">status</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;active&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">age</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$gte</span><span class="o">:</span><span class="w"> </span><span class="mf">18</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</span></code></pre></div>
<h4 id="group-aggregate-values">$group - Aggregate Values<a class="headerlink" href="#group-aggregate-values" title="Permanent link">&para;</a></h4>
<p>Groups documents by a key and applies <strong>accumulator operators</strong> (<code>$sum</code>, <code>$avg</code>, <code>$min</code>, <code>$max</code>, <code>$first</code>, <code>$last</code>, <code>$push</code>, <code>$addToSet</code>):</p>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="p">{</span><span class="w"> </span><span class="nx">$group</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">_id</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;$department&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">avgAge</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$avg</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;$age&quot;</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="nx">total</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$sum</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</span></code></pre></div>
<h4 id="sort-project-limit-skip">$sort, $project, $limit, $skip<a class="headerlink" href="#sort-project-limit-skip" title="Permanent link">&para;</a></h4>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="p">{</span><span class="w"> </span><span class="nx">$sort</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">total</span><span class="o">:</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w">          </span><span class="c1">// order results</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="p">{</span><span class="w"> </span><span class="nx">$project</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">fullName</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$concat</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;$first&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot; &quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;$last&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w">  </span><span class="c1">// reshape</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="p">{</span><span class="w"> </span><span class="nx">$limit</span><span class="o">:</span><span class="w"> </span><span class="mf">10</span><span class="w"> </span><span class="p">}</span><span class="w">                     </span><span class="c1">// cap output</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="p">{</span><span class="w"> </span><span class="nx">$skip</span><span class="o">:</span><span class="w"> </span><span class="mf">20</span><span class="w"> </span><span class="p">}</span><span class="w">                      </span><span class="c1">// offset</span>
</span></code></pre></div>
<h4 id="lookup-join-collections">$lookup - Join Collections<a class="headerlink" href="#lookup-join-collections" title="Permanent link">&para;</a></h4>
<p>Performs a left outer join against another collection:</p>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="p">{</span><span class="w"> </span><span class="nx">$lookup</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kr">from</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;orders&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">localField</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;_id&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">foreignField</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;customer_id&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">as</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;customer_orders&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</span></code></pre></div>
<h4 id="unwind-flatten-arrays">$unwind - Flatten Arrays<a class="headerlink" href="#unwind-flatten-arrays" title="Permanent link">&para;</a></h4>
<p>Deconstructs an array field, outputting one document per element:</p>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="p">{</span><span class="w"> </span><span class="nx">$unwind</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;$customer_orders&quot;</span><span class="w"> </span><span class="p">}</span>
</span></code></pre></div>
<h3 id="practical-example-revenue-by-category">Practical Example: Revenue by Category<a class="headerlink" href="#practical-example-revenue-by-category" title="Permanent link">&para;</a></h3>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="nx">db</span><span class="p">.</span><span class="nx">orders</span><span class="p">.</span><span class="nx">aggregate</span><span class="p">([</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">$match</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">status</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">$group</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">_id</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;$category&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">totalRevenue</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$sum</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;$amount&quot;</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="nx">orderCount</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$sum</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">$sort</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">totalRevenue</span><span class="o">:</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">$limit</span><span class="o">:</span><span class="w"> </span><span class="mf">5</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">$project</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">category</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;$_id&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">totalRevenue</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$round</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;$totalRevenue&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">]</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="nx">orderCount</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">_id</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="p">])</span>
</span></code></pre></div>
<div class="interactive-terminal" data-config="{&quot;title&quot;: &quot;Aggregation Pipeline in Practice&quot;, &quot;steps&quot;: [{&quot;command&quot;: &quot;db.sales.insertMany([\n  { product: \&quot;Keyboard\&quot;, category: \&quot;peripherals\&quot;, amount: 79.99, region: \&quot;west\&quot;, date: ISODate(\&quot;2024-01-15\&quot;) },\n  { product: \&quot;Mouse\&quot;, category: \&quot;peripherals\&quot;, amount: 49.99, region: \&quot;east\&quot;, date: ISODate(\&quot;2024-01-16\&quot;) },\n  { product: \&quot;Monitor\&quot;, category: \&quot;displays\&quot;, amount: 399.99, region: \&quot;west\&quot;, date: ISODate(\&quot;2024-01-17\&quot;) },\n  { product: \&quot;Keyboard\&quot;, category: \&quot;peripherals\&quot;, amount: 79.99, region: \&quot;east\&quot;, date: ISODate(\&quot;2024-02-01\&quot;) },\n  { product: \&quot;Headset\&quot;, category: \&quot;audio\&quot;, amount: 129.99, region: \&quot;west\&quot;, date: ISODate(\&quot;2024-02-05\&quot;) },\n  { product: \&quot;Monitor\&quot;, category: \&quot;displays\&quot;, amount: 399.99, region: \&quot;east\&quot;, date: ISODate(\&quot;2024-02-10\&quot;) }\n])\n&quot;, &quot;output&quot;: &quot;{ acknowledged: true, insertedIds: { ... } }\n&quot;, &quot;narration&quot;: &quot;Insert sample sales data. This gives us enough variety to run meaningful aggregations across categories, regions, and dates.&quot;}, {&quot;command&quot;: &quot;db.sales.aggregate([\n  { $group: { _id: \&quot;$category\&quot;, totalRevenue: { $sum: \&quot;$amount\&quot; }, count: { $sum: 1 } } },\n  { $sort: { totalRevenue: -1 } }\n])\n&quot;, &quot;output&quot;: &quot;[\n  { _id: &#39;displays&#39;, totalRevenue: 799.98, count: 2 },\n  { _id: &#39;peripherals&#39;, totalRevenue: 209.97, count: 3 },\n  { _id: &#39;audio&#39;, totalRevenue: 129.99, count: 1 }\n]\n&quot;, &quot;narration&quot;: &quot;Group by category and compute revenue and count. $sum: &#39;$amount&#39; adds up values; $sum: 1 counts documents. Displays leads in revenue despite fewer sales.&quot;}, {&quot;command&quot;: &quot;db.sales.aggregate([\n  { $group: { _id: { $month: \&quot;$date\&quot; }, monthlyRevenue: { $sum: \&quot;$amount\&quot; }, orders: { $sum: 1 } } },\n  { $project: { month: \&quot;$_id\&quot;, monthlyRevenue: { $round: [\&quot;$monthlyRevenue\&quot;, 2] }, orders: 1, _id: 0 } },\n  { $sort: { month: 1 } }\n])\n&quot;, &quot;output&quot;: &quot;[\n  { orders: 3, month: 1, monthlyRevenue: 529.97 },\n  { orders: 3, month: 2, monthlyRevenue: 609.97 }\n]\n&quot;, &quot;narration&quot;: &quot;Group by month using the $month date operator, then reshape output with $project. The $round operator prevents floating-point display issues.&quot;}]}"><noscript><p><strong>Aggregation Pipeline in Practice</strong> (requires JavaScript)</p></noscript></div>
<div class="interactive-quiz" data-config="{&quot;question&quot;: &quot;In a MongoDB aggregation pipeline, what does the $unwind stage do?&quot;, &quot;type&quot;: &quot;multiple-choice&quot;, &quot;options&quot;: [{&quot;text&quot;: &quot;Reverses the order of documents in the pipeline&quot;, &quot;feedback&quot;: &quot;Reversing order is done with $sort, not $unwind. $unwind deals specifically with arrays.&quot;}, {&quot;text&quot;: &quot;Deconstructs an array field, producing one output document per array element&quot;, &quot;correct&quot;: true, &quot;feedback&quot;: &quot;Correct! $unwind takes a document with an array field and produces one document for each element. A document with tags: [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;] becomes three documents, each with a single tag value. This is essential after $lookup, which produces an array of joined documents.&quot;}, {&quot;text&quot;: &quot;Removes duplicate documents from the pipeline&quot;, &quot;feedback&quot;: &quot;Deduplication isn&#39;t a built-in stage. You&#39;d typically use $group with $first to achieve deduplication. $unwind actually multiplies documents - it creates one per array element.&quot;}, {&quot;text&quot;: &quot;Flattens nested documents into top-level fields&quot;, &quot;feedback&quot;: &quot;$unwind specifically operates on arrays, not nested documents. To promote nested fields to the top level, you&#39;d use $project or $addFields.&quot;}]}"><noscript><p><strong>In a MongoDB aggregation pipeline, what does the $unwind stage do?</strong> (requires JavaScript)</p></noscript></div>
<hr />
<h2 id="indexes">Indexes<a class="headerlink" href="#indexes" title="Permanent link">&para;</a></h2>
<p>Without indexes, MongoDB performs a <strong>collection scan</strong> - reading every document. Indexes are B-tree structures that let MongoDB locate documents without examining the entire collection.</p>
<h3 id="single-field-indexes">Single Field Indexes<a class="headerlink" href="#single-field-indexes" title="Permanent link">&para;</a></h3>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="nx">db</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">createIndex</span><span class="p">({</span><span class="w"> </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="p">})</span><span class="w">          </span><span class="c1">// ascending</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="nx">db</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">createIndex</span><span class="p">({</span><span class="w"> </span><span class="nx">created_at</span><span class="o">:</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="w"> </span><span class="p">})</span><span class="w">    </span><span class="c1">// descending (matters for sorted queries)</span>
</span></code></pre></div>
<h3 id="compound-indexes">Compound Indexes<a class="headerlink" href="#compound-indexes" title="Permanent link">&para;</a></h3>
<p>A <strong>compound index</strong> covers multiple fields. Field order matters - MongoDB uses the index for prefix queries (left to right) but not for queries that skip leading fields.</p>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="c1">// Supports queries on: department alone, department+age, department+age+name</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="c1">// Does NOT efficiently support queries on age alone or name alone</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="nx">db</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">createIndex</span><span class="p">({</span><span class="w"> </span><span class="nx">department</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">age</span><span class="o">:</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="p">})</span>
</span></code></pre></div>
<h3 id="unique-indexes">Unique Indexes<a class="headerlink" href="#unique-indexes" title="Permanent link">&para;</a></h3>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="nx">db</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">createIndex</span><span class="p">({</span><span class="w"> </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">unique</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">})</span><span class="w">  </span><span class="c1">// duplicate values throw an error</span>
</span></code></pre></div>
<h3 id="text-indexes">Text Indexes<a class="headerlink" href="#text-indexes" title="Permanent link">&para;</a></h3>
<p><strong>Text indexes</strong> support full-text search across string content. A collection can have at most one text index, but it can cover multiple fields:</p>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="nx">db</span><span class="p">.</span><span class="nx">articles</span><span class="p">.</span><span class="nx">createIndex</span><span class="p">({</span><span class="w"> </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="w"> </span><span class="p">})</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="nx">db</span><span class="p">.</span><span class="nx">articles</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">$text</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$search</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;mongodb aggregation&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">score</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$meta</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;textScore&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="p">).</span><span class="nx">sort</span><span class="p">({</span><span class="w"> </span><span class="nx">score</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$meta</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;textScore&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">})</span>
</span></code></pre></div>
<h3 id="geospatial-indexes">Geospatial Indexes<a class="headerlink" href="#geospatial-indexes" title="Permanent link">&para;</a></h3>
<p><strong>2dsphere indexes</strong> support queries on GeoJSON data - finding documents near a point, within a polygon, or intersecting a geometry:</p>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="c1">// Create a 2dsphere index</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="nx">db</span><span class="p">.</span><span class="nx">restaurants</span><span class="p">.</span><span class="nx">createIndex</span><span class="p">({</span><span class="w"> </span><span class="nx">location</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;2dsphere&quot;</span><span class="w"> </span><span class="p">})</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="c1">// Find restaurants within 2km of a point</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="nx">db</span><span class="p">.</span><span class="nx">restaurants</span><span class="p">.</span><span class="nx">find</span><span class="p">({</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="w">  </span><span class="nx">location</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="w">    </span><span class="nx">$near</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="w">      </span><span class="nx">$geometry</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Point&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">coordinates</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="o">-</span><span class="mf">122.6750</span><span class="p">,</span><span class="w"> </span><span class="mf">45.5120</span><span class="p">]</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a><span class="w">      </span><span class="nx">$maxDistance</span><span class="o">:</span><span class="w"> </span><span class="mf">2000</span><span class="w">  </span><span class="c1">// meters</span>
</span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-21-11"><a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-21-12"><a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a><span class="p">})</span>
</span></code></pre></div>
<h3 id="ttl-indexes">TTL Indexes<a class="headerlink" href="#ttl-indexes" title="Permanent link">&para;</a></h3>
<p><strong>TTL (Time to Live) indexes</strong> automatically delete documents after a specified duration - ideal for sessions, logs, or temporary records:</p>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="nx">db</span><span class="p">.</span><span class="nx">sessions</span><span class="p">.</span><span class="nx">createIndex</span><span class="p">({</span><span class="w"> </span><span class="nx">createdAt</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">expireAfterSeconds</span><span class="o">:</span><span class="w"> </span><span class="mf">86400</span><span class="w"> </span><span class="p">})</span><span class="w">  </span><span class="c1">// expire after 24h</span>
</span></code></pre></div>
<h3 id="query-planning-with-explain">Query Planning with explain()<a class="headerlink" href="#query-planning-with-explain" title="Permanent link">&para;</a></h3>
<p>Use <code>explain()</code> to understand query execution. Key fields in the output:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>winningPlan.stage</code></td>
<td><code>IXSCAN</code> (index used) vs <code>COLLSCAN</code> (full scan)</td>
</tr>
<tr>
<td><code>totalKeysExamined</code></td>
<td>Number of index entries scanned</td>
</tr>
<tr>
<td><code>totalDocsExamined</code></td>
<td>Number of documents loaded</td>
</tr>
<tr>
<td><code>nReturned</code></td>
<td>Number of documents returned</td>
</tr>
<tr>
<td><code>executionTimeMillis</code></td>
<td>Total execution time</td>
</tr>
</tbody>
</table>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="nx">db</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">find</span><span class="p">({</span><span class="w"> </span><span class="nx">department</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Engineering&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">age</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">$gt</span><span class="o">:</span><span class="w"> </span><span class="mf">30</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}).</span><span class="nx">explain</span><span class="p">(</span><span class="s2">&quot;executionStats&quot;</span><span class="p">)</span>
</span></code></pre></div>
<p>The goal: get <code>totalDocsExamined</code> as close to <code>nReturned</code> as possible.</p>
<div class="interactive-quiz" data-config="{&quot;question&quot;: &quot;You create a compound index { department: 1, age: -1, name: 1 }. Which query can efficiently use this index?&quot;, &quot;type&quot;: &quot;multiple-choice&quot;, &quot;options&quot;: [{&quot;text&quot;: &quot;db.users.find({ age: 30 })&quot;, &quot;feedback&quot;: &quot;A query on age alone cannot efficiently use this index because age is the second field. Compound indexes follow the prefix rule - they support queries on field 1, fields 1+2, or fields 1+2+3, but not field 2 alone.&quot;}, {&quot;text&quot;: &quot;db.users.find({ department: &#39;Engineering&#39; }).sort({ age: -1 })&quot;, &quot;correct&quot;: true, &quot;feedback&quot;: &quot;Correct! This query filters on department (field 1) and sorts by age descending (field 2), which matches the index prefix. MongoDB can both filter and sort using the index without a separate sort step in memory.&quot;}, {&quot;text&quot;: &quot;db.users.find({ name: &#39;Alice&#39; })&quot;, &quot;feedback&quot;: &quot;A query on name alone skips the first two fields of the index. MongoDB can&#39;t jump to the third field of a compound index without using the first two. This query would require a collection scan or a separate index on name.&quot;}, {&quot;text&quot;: &quot;db.users.find({ age: 30, name: &#39;Alice&#39; })&quot;, &quot;feedback&quot;: &quot;This skips the department field (field 1). Compound indexes require the prefix - you can&#39;t skip the first field and still use fields 2 and 3 efficiently.&quot;}]}"><noscript><p><strong>You create a compound index { department: 1, age: -1, name: 1 }. Which query can efficiently use this index?</strong> (requires JavaScript)</p></noscript></div>
<hr />
<h2 id="replica-sets">Replica Sets<a class="headerlink" href="#replica-sets" title="Permanent link">&para;</a></h2>
<p>A <strong>replica set</strong> is a group of MongoDB instances maintaining the same data for redundancy and high availability. Always run MongoDB as a replica set in production - it gives you automatic failover and read scaling.</p>
<h3 id="architecture">Architecture<a class="headerlink" href="#architecture" title="Permanent link">&para;</a></h3>
<p>A replica set consists of:</p>
<ul>
<li><strong>Primary</strong>: Receives all write operations. There is exactly one primary at any time.</li>
<li><strong>Secondary</strong>: Replicates data from the primary. Can serve read operations if configured. You typically have two or more secondaries.</li>
<li><strong>Arbiter</strong>: Participates in elections but holds no data. Used when you need an odd number of voting members but don't want to store a third full copy of the data.</li>
</ul>
<pre class="mermaid"><code>graph TB
    C[Application] --&gt; P[Primary]
    P --&gt;|Replication| S1[Secondary 1]
    P --&gt;|Replication| S2[Secondary 2]
    P -.-&gt;|Heartbeat| A[Arbiter]
    S1 -.-&gt;|Heartbeat| P
    S2 -.-&gt;|Heartbeat| P
    A -.-&gt;|Heartbeat| P
    S1 -.-&gt;|Heartbeat| S2
    S1 -.-&gt;|Heartbeat| A
    S2 -.-&gt;|Heartbeat| A</code></pre>
<h3 id="elections">Elections<a class="headerlink" href="#elections" title="Permanent link">&para;</a></h3>
<p>If the primary becomes unreachable, remaining members hold an <strong>election</strong>. A majority of voting members must agree - a 3-member set tolerates 1 failure, a 5-member set tolerates 2. A 2-member set cannot elect a new primary (no majority), which is why you always need at least 3 members. Elections typically complete within 10-12 seconds.</p>
<h3 id="read-preferences">Read Preferences<a class="headerlink" href="#read-preferences" title="Permanent link">&para;</a></h3>
<p><strong>Read preference</strong> controls which members receive read operations:</p>
<table>
<thead>
<tr>
<th>Mode</th>
<th>Behavior</th>
<th>Use Case</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>primary</code></td>
<td>All reads go to the primary</td>
<td>Default. Guaranteed latest data</td>
</tr>
<tr>
<td><code>primaryPreferred</code></td>
<td>Reads from primary; falls back to secondary if primary unavailable</td>
<td>Availability over consistency</td>
</tr>
<tr>
<td><code>secondary</code></td>
<td>Reads go to secondaries only</td>
<td>Offload analytics queries from primary</td>
</tr>
<tr>
<td><code>secondaryPreferred</code></td>
<td>Reads from secondary; falls back to primary</td>
<td>Analytics with fallback</td>
</tr>
<tr>
<td><code>nearest</code></td>
<td>Reads from the member with lowest network latency</td>
<td>Geographically distributed deployments</td>
</tr>
</tbody>
</table>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="c1">// In a connection string</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="s2">&quot;mongodb://host1,host2,host3/myapp?readPreference=secondaryPreferred&quot;</span>
</span></code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Stale reads from secondaries</p>
<p>Secondaries replicate asynchronously, so they may lag behind the primary. Reading from a secondary can return data that's a few seconds (or, under heavy load, longer) behind. If your application requires reading the data it just wrote, use <code>primary</code> read preference for those queries.</p>
</div>
<h3 id="write-concern">Write Concern<a class="headerlink" href="#write-concern" title="Permanent link">&para;</a></h3>
<p><strong>Write concern</strong> controls acknowledgment requirements before MongoDB confirms a write:</p>
<table>
<thead>
<tr>
<th>Write Concern</th>
<th>Behavior</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>w: 1</code></td>
<td>Acknowledged by the primary only (default)</td>
</tr>
<tr>
<td><code>w: "majority"</code></td>
<td>Acknowledged by a majority of voting members</td>
</tr>
<tr>
<td><code>w: 0</code></td>
<td>No acknowledgment - fire and forget</td>
</tr>
</tbody>
</table>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="nx">db</span><span class="p">.</span><span class="nx">orders</span><span class="p">.</span><span class="nx">insertOne</span><span class="p">({</span><span class="w"> </span><span class="nx">item</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;widget&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">qty</span><span class="o">:</span><span class="w"> </span><span class="mf">5</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">writeConcern</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">w</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;majority&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">wtimeout</span><span class="o">:</span><span class="w"> </span><span class="mf">5000</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">})</span>
</span></code></pre></div>
<p>Use <code>w: "majority"</code> for critical data. Use <code>w: 1</code> for high-throughput, loss-tolerant workloads.</p>
<hr />
<h2 id="sharding">Sharding<a class="headerlink" href="#sharding" title="Permanent link">&para;</a></h2>
<p><strong>Sharding</strong> distributes data across multiple machines. When a single replica set can't handle your data volume or throughput, you split data across <strong>shards</strong> - each shard being its own replica set. <strong>Config servers</strong> store metadata about data placement, and <strong>mongos routers</strong> route queries to the correct shard(s). Your application connects to mongos, not directly to shards.</p>
<h3 id="shard-key-selection">Shard Key Selection<a class="headerlink" href="#shard-key-selection" title="Permanent link">&para;</a></h3>
<p>The <strong>shard key</strong> determines how documents are distributed. A good shard key has high cardinality (many distinct values), even distribution (no hotspots), and supports query targeting (queries including the shard key go to one shard instead of all).</p>
<h3 id="hashed-vs-ranged-sharding">Hashed vs Ranged Sharding<a class="headerlink" href="#hashed-vs-ranged-sharding" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Strategy</th>
<th>How it works</th>
<th>Pros</th>
<th>Cons</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Ranged</strong></td>
<td>Documents with nearby key values go to the same shard</td>
<td>Efficient range queries</td>
<td>Hotspots if writes cluster at one end</td>
</tr>
<tr>
<td><strong>Hashed</strong></td>
<td>A hash of the key determines the shard</td>
<td>Even write distribution</td>
<td>Range queries hit all shards</td>
</tr>
</tbody>
</table>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="nx">sh</span><span class="p">.</span><span class="nx">enableSharding</span><span class="p">(</span><span class="s2">&quot;myapp&quot;</span><span class="p">)</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="nx">sh</span><span class="p">.</span><span class="nx">shardCollection</span><span class="p">(</span><span class="s2">&quot;myapp.orders&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">customer_id</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="p">})</span><span class="w">   </span><span class="c1">// ranged</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="nx">sh</span><span class="p">.</span><span class="nx">shardCollection</span><span class="p">(</span><span class="s2">&quot;myapp.events&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">_id</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;hashed&quot;</span><span class="w"> </span><span class="p">})</span><span class="w">    </span><span class="c1">// hashed</span>
</span></code></pre></div>
<h3 id="chunks-and-balancing">Chunks and Balancing<a class="headerlink" href="#chunks-and-balancing" title="Permanent link">&para;</a></h3>
<p>MongoDB divides the shard key range into <strong>chunks</strong> (default 128 MB). The <strong>balancer</strong> migrates chunks between shards in the background to keep distribution even.</p>
<hr />
<h2 id="command-builder">Command Builder<a class="headerlink" href="#command-builder" title="Permanent link">&para;</a></h2>
<div class="interactive-command-builder" data-config="{&quot;title&quot;: &quot;Build a mongosh Query&quot;, &quot;description&quot;: &quot;Construct MongoDB find queries by selecting filters, projections, and modifiers.&quot;, &quot;base&quot;: &quot;db.users.find(&quot;, &quot;parts&quot;: [{&quot;name&quot;: &quot;Filter&quot;, &quot;key&quot;: &quot;filter&quot;, &quot;required&quot;: true, &quot;options&quot;: [{&quot;label&quot;: &quot;All documents&quot;, &quot;value&quot;: &quot;{}&quot;}, {&quot;label&quot;: &quot;By department&quot;, &quot;value&quot;: &quot;{ department: \&quot;Engineering\&quot; }&quot;}, {&quot;label&quot;: &quot;Age over 30&quot;, &quot;value&quot;: &quot;{ age: { $gt: 30 } }&quot;}, {&quot;label&quot;: &quot;Active engineers&quot;, &quot;value&quot;: &quot;{ department: \&quot;Engineering\&quot;, active: true }&quot;}, {&quot;label&quot;: &quot;Name regex&quot;, &quot;value&quot;: &quot;{ name: { $regex: /^A/i } }&quot;}]}, {&quot;name&quot;: &quot;Projection&quot;, &quot;key&quot;: &quot;projection&quot;, &quot;required&quot;: false, &quot;options&quot;: [{&quot;label&quot;: &quot;All fields&quot;, &quot;value&quot;: &quot;&quot;}, {&quot;label&quot;: &quot;Name and email only&quot;, &quot;value&quot;: &quot;, { name: 1, email: 1, _id: 0 }&quot;}, {&quot;label&quot;: &quot;Exclude address&quot;, &quot;value&quot;: &quot;, { address: 0 }&quot;}]}, {&quot;name&quot;: &quot;Modifier&quot;, &quot;key&quot;: &quot;modifier&quot;, &quot;required&quot;: false, &quot;options&quot;: [{&quot;label&quot;: &quot;None&quot;, &quot;value&quot;: &quot;)&quot;}, {&quot;label&quot;: &quot;Sort by age (ascending)&quot;, &quot;value&quot;: &quot;).sort({ age: 1 })&quot;}, {&quot;label&quot;: &quot;Sort by name, limit 10&quot;, &quot;value&quot;: &quot;).sort({ name: 1 }).limit(10)&quot;}, {&quot;label&quot;: &quot;Skip 20, limit 10&quot;, &quot;value&quot;: &quot;).skip(20).limit(10)&quot;}]}]}"><noscript><p><strong>Build a mongosh Query</strong> (requires JavaScript)</p></noscript></div>
<hr />
<h2 id="putting-it-all-together">Putting It All Together<a class="headerlink" href="#putting-it-all-together" title="Permanent link">&para;</a></h2>
<div class="interactive-exercise" data-config="{&quot;title&quot;: &quot;Product Analytics Pipeline&quot;, &quot;description&quot;: &quot;You have a `products` collection with documents like:\n```json\n{\n  \&quot;name\&quot;: \&quot;Wireless Keyboard\&quot;,\n  \&quot;category\&quot;: \&quot;peripherals\&quot;,\n  \&quot;price\&quot;: 79.99,\n  \&quot;ratings\&quot;: [4, 5, 3, 5, 4],\n  \&quot;in_stock\&quot;: true,\n  \&quot;vendor\&quot;: \&quot;TechCorp\&quot;\n}\n```\nWrite an aggregation pipeline that:\n1. Filters to only in-stock products\n2. Adds a computed `avg_rating` field (average of the ratings array)\n3. Groups by category to find the average price and average rating per category\n4. Sorts by average rating descending\n5. Returns only categories with an average rating above 3.5\n&quot;, &quot;type&quot;: &quot;code&quot;, &quot;language&quot;: &quot;javascript&quot;, &quot;starter&quot;: &quot;db.products.aggregate([\n  // Stage 1: Filter to in-stock products\n\n  // Stage 2: Compute average rating per product\n\n  // Stage 3: Group by category\n\n  // Stage 4: Sort by average rating\n\n  // Stage 5: Filter categories\n\n])\n&quot;, &quot;solution&quot;: &quot;db.products.aggregate([\n  // Stage 1: Filter to in-stock products\n  { $match: { in_stock: true } },\n\n  // Stage 2: Compute average rating per product\n  { $addFields: { avg_rating: { $avg: \&quot;$ratings\&quot; } } },\n\n  // Stage 3: Group by category\n  { $group: {\n      _id: \&quot;$category\&quot;,\n      avgPrice: { $avg: \&quot;$price\&quot; },\n      avgRating: { $avg: \&quot;$avg_rating\&quot; },\n      productCount: { $sum: 1 }\n    }\n  },\n\n  // Stage 4: Sort by average rating\n  { $sort: { avgRating: -1 } },\n\n  // Stage 5: Filter categories\n  { $match: { avgRating: { $gt: 3.5 } } }\n])\n&quot;, &quot;hints&quot;: [&quot;$match is the filtering stage - use it for both the initial in-stock filter and the final rating threshold.&quot;, &quot;$addFields adds new computed fields without removing existing ones. Use { $avg: &#39;$ratings&#39; } to average an array.&quot;, &quot;You can use $match at multiple points in the pipeline. The first filters input documents, the second filters grouped results.&quot;]}"><noscript><p><strong>Product Analytics Pipeline</strong> (requires JavaScript)</p></noscript></div>
<hr />
<h2 id="further-reading">Further Reading<a class="headerlink" href="#further-reading" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://www.mongodb.com/docs/manual/">MongoDB Manual</a> - official documentation covering all features and versions</li>
<li><a href="https://www.mongodb.com/docs/mongodb-shell/">mongosh Documentation</a> - shell reference, scripting, and configuration</li>
<li><a href="https://www.mongodb.com/docs/manual/meta/aggregation-quick-reference/">Aggregation Pipeline Quick Reference</a> - all stages and operators in one page</li>
<li><a href="https://learn.mongodb.com/">MongoDB University</a> - free official courses on MongoDB fundamentals, aggregation, and administration</li>
<li><a href="https://www.mongodb.com/docs/manual/core/data-modeling-introduction/">Data Modeling Guide</a> - embedding vs referencing, schema design patterns</li>
</ul>
<hr />
<p><strong>Previous:</strong> <a href="../nosql-concepts/">NoSQL Concepts &amp; Architecture</a> | <strong>Next:</strong> <a href="../redis/">Redis</a> | <a href="../">Back to Index</a></p>









  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        Was this page helpful?
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 9v12H1V9zm4 12a2 2 0 0 1-2-2V9c0-.55.22-1.05.59-1.41L14.17 1l1.06 1.06c.27.27.44.64.44 1.05l-.03.32L14.69 8H21a2 2 0 0 1 2 2v2c0 .26-.05.5-.14.73l-3.02 7.05C19.54 20.5 18.83 21 18 21zm0-2h9.03L21 12v-2h-8.79l1.13-5.32L9 9.03z"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 15V3h4v12zM15 3a2 2 0 0 1 2 2v10c0 .55-.22 1.05-.59 1.41L9.83 23l-1.06-1.06c-.27-.27-.44-.64-.44-1.06l.03-.31.95-4.57H3a2 2 0 0 1-2-2v-2c0-.26.05-.5.14-.73l3.02-7.05C4.46 3.5 5.17 3 6 3zm0 2H5.97L3 12v2h8.78l-1.13 5.32L15 14.97z"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              
              
                
                
              
              Thanks for your feedback!
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              
              
                
                
              
              Thanks for your feedback! Help us improve by <a href="https://github.com/ringo380/guides/issues/new?template=content-improvement.yml&title=[Feedback]+MongoDB" target="_blank" rel="noopener">opening an issue</a>.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>

<!-- SPDX-License-Identifier: MIT | Copyright (c) 2025-2026 Robworks Software LLC -->
<!-- Giscus comments - GitHub Discussions-backed -->

  <h2 id="__comments">Comments</h2>

  <script
    src="https://giscus.app/client.js"
    data-repo="ringo380/guides"
    data-repo-id="R_kgDOM3QMrQ"
    data-category="General"
    data-category-id="DIC_kwDOM3QMrc4C2qV9"
    data-mapping="pathname"
    data-strict="1"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="top"
    data-theme="preferred_color_scheme"
    data-lang="en"
    data-loading="lazy"
    crossorigin="anonymous"
    async>
  </script>

                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025-2026 Robworks Software LLC
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/ringo380" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://linkedin.com/in/robworks" target="_blank" rel="noopener" title="linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://bsky.app/profile/lessoncraft.bsky.social" target="_blank" rel="noopener" title="bsky.app" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M407.8 294.7c-3.3-.4-6.7-.8-10-1.3 3.4.4 6.7.9 10 1.3M288 227.1c-26.1-50.7-97.1-145.2-163.1-191.8C61.6-9.4 37.5-1.7 21.6 5.5 3.3 13.8 0 41.9 0 58.4S9.1 194 15 213.9c19.5 65.7 89.1 87.9 153.2 80.7 3.3-.5 6.6-.9 10-1.4-3.3.5-6.6 1-10 1.4-93.9 14-177.3 48.2-67.9 169.9C220.6 589.1 265.1 437.8 288 361.1c22.9 76.7 49.2 222.5 185.6 103.4 102.4-103.4 28.1-156-65.8-169.9-3.3-.4-6.7-.8-10-1.3 3.4.4 6.7.9 10 1.3 64.1 7.1 133.6-15.1 153.2-80.7C566.9 194 576 75 576 58.4s-3.3-44.7-21.6-52.9c-15.8-7.1-40-14.9-103.2 29.8C385.1 81.9 314.1 176.4 288 227.1"/></svg>
    </a>
  
    
    
      
    
    
    
      
      
    
    <a href="https://mastodon.social/@runbook" target="_blank" rel="noopener me" title="mastodon.social" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M433 179.1c0-97.2-63.7-125.7-63.7-125.7-62.5-28.7-228.6-28.4-290.5 0 0 0-63.7 28.5-63.7 125.7 0 115.7-6.6 259.4 105.6 289.1 40.5 10.7 75.3 13 103.3 11.4 50.8-2.8 79.3-18.1 79.3-18.1l-1.7-36.9s-36.3 11.4-77.1 10.1c-40.4-1.4-83-4.4-89.6-54-.6-4.6-.9-9.3-.9-13.9 85.6 20.9 158.7 9.1 178.7 6.7 56.1-6.7 105-41.3 111.2-72.9 9.8-49.8 9-121.5 9-121.5zm-75.1 125.2h-46.6V190.1c0-49.7-64-51.6-64 6.9v62.5H201V197c0-58.5-64-56.6-64-6.9v114.2H90.3c0-122.1-5.2-147.9 18.4-175 25.9-28.9 79.8-30.8 103.8 6.1l11.6 19.5 11.6-19.5c24.1-37.1 78.1-34.8 103.8-6.1 23.7 27.3 18.4 53 18.4 175"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://threads.net/@robworks_software" target="_blank" rel="noopener" title="threads.net" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M331.5 235.7c2.2.9 4.2 1.9 6.3 2.8 29.2 14.1 50.6 35.2 61.8 61.4 15.7 36.5 17.2 95.8-30.3 143.2-36.2 36.2-80.3 52.5-142.6 53h-.3c-70.2-.5-124.1-24.1-160.4-70.2-32.3-41-48.9-98.1-49.5-169.6v-.5c.5-71.5 17.1-128.6 49.4-169.6 36.3-46.1 90.3-69.7 160.5-70.2h.3c70.3.5 124.9 24 162.3 69.9 18.4 22.7 32 50 40.6 81.7l-40.4 10.8c-7.1-25.8-17.8-47.8-32.2-65.4-29.2-35.8-73-54.2-130.5-54.6-57 .5-100.1 18.8-128.2 54.4C72.1 146.1 58.5 194.3 58 256c.5 61.7 14.1 109.9 40.3 143.3 28 35.6 71.2 53.9 128.2 54.4 51.4-.4 85.4-12.6 113.7-40.9 32.3-32.2 31.7-71.8 21.4-95.9-6.1-14.2-17.1-26-31.9-34.9-3.7 26.9-11.8 48.3-24.7 64.8-17.1 21.8-41.4 33.6-72.7 35.3-23.6 1.3-46.3-4.4-63.9-16-20.8-13.8-33-34.8-34.3-59.3-2.5-48.3 35.7-83 95.2-86.4 21.1-1.2 40.9-.3 59.2 2.8-2.4-14.8-7.3-26.6-14.6-35.2-10-11.7-25.6-17.7-46.2-17.8h-.7c-16.6 0-39 4.6-53.3 26.3l-34.4-23.6c19.2-29.1 50.3-45.1 87.8-45.1h.8c62.6.4 99.9 39.5 103.7 107.7l-.2.2zm-156 68.8c1.3 25.1 28.4 36.8 54.6 35.3 25.6-1.4 54.6-11.4 59.5-73.2-13.2-2.9-27.8-4.4-43.4-4.4-4.8 0-9.6.1-14.4.4-42.9 2.4-57.2 23.2-56.2 41.8z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            



  

<h4>Cookie consent</h4>
<p>We use cookies to recognize repeat visits and measure engagement with guides. With your consent, you help us improve the content.</p>
<input class="md-toggle" type="checkbox" id="__settings" checked>
<div class="md-consent__settings">
  <ul class="task-list">
    
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="github" checked>
      <span class="task-list-indicator"></span>
      GitHub
    </label>
  </li>

      
    
    
      
        
  
  
    
    
      
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="analytics" checked>
      <span class="task-list-indicator"></span>
      Google Analytics
    </label>
  </li>

      
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
      <button type="reset" class="md-button md-button--primary">Reject</button>
    
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.tabs", "navigation.top", "navigation.instant", "navigation.tracking", "navigation.indexes", "search.suggest", "search.highlight", "content.code.copy", "content.action.edit"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../assets/javascripts/interactive.js"></script>
      
        <script src="../../assets/javascripts/giscus-theme.js"></script>
      
        <script src="../../assets/javascripts/lightbox.js"></script>
      
        <script src="../../js/open_in_new_tab.js"></script>
      
    
  </body>
</html>