
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Practical technical guides on Linux, DNS, Git, databases, and development">
      
      
        <meta name="author" content="Ryan Robson">
      
      
        <link rel="canonical" href="https://ringo380.github.io/guides/Databases/backup-and-recovery/">
      
      
        <link rel="prev" href="../redis/">
      
      
        <link rel="next" href="../database-security/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.2">
    
    
      
        <title>Backup & Recovery Strategies - The Runbook</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../assets/stylesheets/interactive.css">
    
      <link rel="stylesheet" href="../../assets/stylesheets/lightbox.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-56L2QXTFGR"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-56L2QXTFGR",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-56L2QXTFGR",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script>
  

    
    
  
<meta property="og:type" content="website" />
<meta property="og:title" content="Backup & Recovery Strategies - The Runbook" />
<meta property="og:description" content="Practical technical guides on Linux, DNS, Git, databases, and development" />
<meta property="og:image" content="https://ringo380.github.io/guides/assets/images/social/Databases/backup-and-recovery.png" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:url" content="https://ringo380.github.io/guides/Databases/backup-and-recovery/" />
<meta property="twitter:card" content="summary_large_image" />
<meta property="twitter:title" content="Backup & Recovery Strategies - The Runbook" />
<meta property="twitter:description" content="Practical technical guides on Linux, DNS, Git, databases, and development" />
<meta property="twitter:image" content="https://ringo380.github.io/guides/assets/images/social/Databases/backup-and-recovery.png" />
</head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="amber">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#backup-recovery-strategies" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="The Runbook" class="md-header__button md-logo" aria-label="The Runbook" data-md-component="logo">
      
  <img src="../../assets/images/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            The Runbook
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Backup & Recovery Strategies
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="amber"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="amber"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/ringo380/guides" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    ringo380/guides
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Linux%20Essentials/" class="md-tabs__link">
          
  
  
    
  
  Linux Essentials

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../DNS%20Administration/" class="md-tabs__link">
          
  
  
    
  
  DNS Administration

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Git/" class="md-tabs__link">
          
  
  
    
  
  Git

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
    
  
  Databases

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Dev%20Zero/Perl/" class="md-tabs__link">
          
  
  
    
  
  Dev Zero

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="The Runbook" class="md-nav__button md-logo" aria-label="The Runbook" data-md-component="logo">
      
  <img src="../../assets/images/logo.svg" alt="logo">

    </a>
    The Runbook
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ringo380/guides" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    ringo380/guides
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Linux%20Essentials/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Linux Essentials
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Linux Essentials
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Essentials/shell-basics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Shell Basics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Essentials/streams-and-redirection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Streams and Redirection
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Essentials/text-processing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Text Processing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Essentials/finding-files/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Finding Files
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Essentials/file-permissions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    File Permissions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Essentials/job-control/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Job Control
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Essentials/scripting-fundamentals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scripting Fundamentals
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Essentials/disk-and-filesystem/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Disk and Filesystem
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Essentials/networking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Networking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Essentials/system-information/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    System Information
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Essentials/archiving-and-compression/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Archiving and Compression
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Essentials/best-practices/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Best Practices
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../DNS%20Administration/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    DNS Administration
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    DNS Administration
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DNS%20Administration/dns-fundamentals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DNS Fundamentals
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DNS%20Administration/zone-files-and-records/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Zone Files and Records
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DNS%20Administration/dns-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DNS Tools and Troubleshooting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DNS%20Administration/bind/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    BIND
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DNS%20Administration/nsd-and-unbound/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    NSD and Unbound
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DNS%20Administration/powerdns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PowerDNS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DNS%20Administration/dnssec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DNSSEC
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DNS%20Administration/dns-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DNS Architecture and Operations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Git/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Git
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Git
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/three-trees/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    The Three Trees
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/commits-and-history/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Commits and History
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/branches-and-merging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Branches and Merging
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/remote-repositories/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Remote Repositories
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/rewriting-history/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Rewriting History
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/stashing-and-worktree/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Stashing and the Worktree
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/configuring-git/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuring Git
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/object-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    The Object Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/refs-reflog-dag/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Refs, the Reflog, and the DAG
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/transfer-protocols/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Transfer Protocols
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/collaboration-workflows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Collaboration Workflows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/platforms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Platforms
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/hooks-and-automation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hooks and Automation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Security
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/monorepos-and-scaling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Monorepos and Scaling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/troubleshooting-and-recovery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting and Recovery
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Databases
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Databases
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../database-fundamentals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Database Fundamentals
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sql-essentials/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SQL Essentials
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../database-design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Database Design & Modeling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mysql-installation-and-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MySQL Installation & Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mysql-administration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MySQL Administration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mysql-performance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MySQL Performance & Optimization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mysql-replication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MySQL Replication & HA
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../postgresql-fundamentals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PostgreSQL Fundamentals
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../postgresql-administration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PostgreSQL Administration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../postgresql-advanced/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PostgreSQL Advanced Features
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nosql-concepts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    NoSQL Concepts & Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mongodb/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MongoDB
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../redis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Redis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Backup & Recovery Strategies
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Backup & Recovery Strategies
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#logical-vs-physical-backups" class="md-nav__link">
    <span class="md-ellipsis">
      
        Logical vs Physical Backups
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mysql-backup-tools" class="md-nav__link">
    <span class="md-ellipsis">
      
        MySQL Backup Tools
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MySQL Backup Tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mysqldump" class="md-nav__link">
    <span class="md-ellipsis">
      
        mysqldump
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mydumper-and-myloader" class="md-nav__link">
    <span class="md-ellipsis">
      
        mydumper and myloader
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mysqlpump" class="md-nav__link">
    <span class="md-ellipsis">
      
        mysqlpump
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postgresql-backup-tools" class="md-nav__link">
    <span class="md-ellipsis">
      
        PostgreSQL Backup Tools
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PostgreSQL Backup Tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pg_dump" class="md-nav__link">
    <span class="md-ellipsis">
      
        pg_dump
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pg_dumpall" class="md-nav__link">
    <span class="md-ellipsis">
      
        pg_dumpall
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pg_basebackup" class="md-nav__link">
    <span class="md-ellipsis">
      
        pg_basebackup
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#percona-xtrabackup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Percona XtraBackup
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Percona XtraBackup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#full-backup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Full Backup
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#incremental-backups" class="md-nav__link">
    <span class="md-ellipsis">
      
        Incremental Backups
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#point-in-time-recovery-pitr" class="md-nav__link">
    <span class="md-ellipsis">
      
        Point-in-Time Recovery (PITR)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Point-in-Time Recovery (PITR)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mysql-binary-log-replay" class="md-nav__link">
    <span class="md-ellipsis">
      
        MySQL: Binary Log Replay
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#postgresql-wal-archiving-and-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      
        PostgreSQL: WAL Archiving and Recovery
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#backup-verification" class="md-nav__link">
    <span class="md-ellipsis">
      
        Backup Verification
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Backup Verification">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#restore-to-a-test-instance" class="md-nav__link">
    <span class="md-ellipsis">
      
        Restore to a Test Instance
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checksum-validation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Checksum Validation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automated-verification-script" class="md-nav__link">
    <span class="md-ellipsis">
      
        Automated Verification Script
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scheduling-and-rotation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scheduling and Rotation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Scheduling and Rotation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cron-based-backup-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cron-Based Backup Scripts
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grandfather-father-son-rotation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Grandfather-Father-Son Rotation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cloud-and-snapshot-backups" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cloud and Snapshot Backups
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cloud and Snapshot Backups">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#filesystem-snapshots" class="md-nav__link">
    <span class="md-ellipsis">
      
        Filesystem Snapshots
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consistency-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Consistency Considerations
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#retention-policies" class="md-nav__link">
    <span class="md-ellipsis">
      
        Retention Policies
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Retention Policies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recovery-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recovery Requirements
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regulatory-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Regulatory Requirements
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage-cost-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Storage Cost Optimization
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#backup-strategy-design" class="md-nav__link">
    <span class="md-ellipsis">
      
        Backup Strategy Design
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-reading" class="md-nav__link">
    <span class="md-ellipsis">
      
        Further Reading
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../database-security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Database Security
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scaling-and-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scaling & Architecture Patterns
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../innodb-recovery-pdrt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    InnoDB Recovery with PDRT
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Dev Zero
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Dev Zero
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Dev%20Zero/Perl/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Perl
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Perl
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/perl_dev0_introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/scalars-strings-numbers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scalars, Strings, and Numbers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/arrays-hashes-lists/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Arrays, Hashes, and Lists
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/control-flow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Control Flow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/regular-expressions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Regular Expressions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/subroutines-references/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Subroutines and References
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/file-io-and-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    File I/O and System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/modules-and-cpan/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Modules and CPAN
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/object-oriented-perl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Object-Oriented Perl
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/error-handling-debugging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Error Handling and Debugging
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/text-processing-oneliners/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Text Processing and One-Liners
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/networking-daemons/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Networking and Daemons
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/web-frameworks-apis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Web Frameworks and APIs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Dev%20Zero/Perl/perl_developer_roadmap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Developer Roadmap
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#logical-vs-physical-backups" class="md-nav__link">
    <span class="md-ellipsis">
      
        Logical vs Physical Backups
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mysql-backup-tools" class="md-nav__link">
    <span class="md-ellipsis">
      
        MySQL Backup Tools
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MySQL Backup Tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mysqldump" class="md-nav__link">
    <span class="md-ellipsis">
      
        mysqldump
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mydumper-and-myloader" class="md-nav__link">
    <span class="md-ellipsis">
      
        mydumper and myloader
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mysqlpump" class="md-nav__link">
    <span class="md-ellipsis">
      
        mysqlpump
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postgresql-backup-tools" class="md-nav__link">
    <span class="md-ellipsis">
      
        PostgreSQL Backup Tools
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PostgreSQL Backup Tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pg_dump" class="md-nav__link">
    <span class="md-ellipsis">
      
        pg_dump
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pg_dumpall" class="md-nav__link">
    <span class="md-ellipsis">
      
        pg_dumpall
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pg_basebackup" class="md-nav__link">
    <span class="md-ellipsis">
      
        pg_basebackup
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#percona-xtrabackup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Percona XtraBackup
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Percona XtraBackup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#full-backup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Full Backup
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#incremental-backups" class="md-nav__link">
    <span class="md-ellipsis">
      
        Incremental Backups
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#point-in-time-recovery-pitr" class="md-nav__link">
    <span class="md-ellipsis">
      
        Point-in-Time Recovery (PITR)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Point-in-Time Recovery (PITR)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mysql-binary-log-replay" class="md-nav__link">
    <span class="md-ellipsis">
      
        MySQL: Binary Log Replay
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#postgresql-wal-archiving-and-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      
        PostgreSQL: WAL Archiving and Recovery
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#backup-verification" class="md-nav__link">
    <span class="md-ellipsis">
      
        Backup Verification
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Backup Verification">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#restore-to-a-test-instance" class="md-nav__link">
    <span class="md-ellipsis">
      
        Restore to a Test Instance
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checksum-validation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Checksum Validation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automated-verification-script" class="md-nav__link">
    <span class="md-ellipsis">
      
        Automated Verification Script
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scheduling-and-rotation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scheduling and Rotation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Scheduling and Rotation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cron-based-backup-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cron-Based Backup Scripts
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grandfather-father-son-rotation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Grandfather-Father-Son Rotation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cloud-and-snapshot-backups" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cloud and Snapshot Backups
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cloud and Snapshot Backups">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#filesystem-snapshots" class="md-nav__link">
    <span class="md-ellipsis">
      
        Filesystem Snapshots
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consistency-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Consistency Considerations
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#retention-policies" class="md-nav__link">
    <span class="md-ellipsis">
      
        Retention Policies
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Retention Policies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recovery-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recovery Requirements
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regulatory-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Regulatory Requirements
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage-cost-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Storage Cost Optimization
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#backup-strategy-design" class="md-nav__link">
    <span class="md-ellipsis">
      
        Backup Strategy Design
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-reading" class="md-nav__link">
    <span class="md-ellipsis">
      
        Further Reading
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/ringo380/guides/edit/main/Databases/backup-and-recovery.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="backup-recovery-strategies">Backup &amp; Recovery Strategies<a class="headerlink" href="#backup-recovery-strategies" title="Permanent link">&para;</a></h1>
<p>Your database is only as reliable as your ability to restore it. A backup you have never tested is not a backup - it is a hope. This guide covers the tools, techniques, and strategies for protecting MySQL and PostgreSQL data against every failure mode from accidental <code>DELETE</code> to total disk loss.</p>
<hr />
<h2 id="logical-vs-physical-backups">Logical vs Physical Backups<a class="headerlink" href="#logical-vs-physical-backups" title="Permanent link">&para;</a></h2>
<div class="diagram-container"><img src="../../assets/images/databases/backup-strategy-comparison.svg" alt="Comparison of logical and physical backup strategies with RTO and RPO timeline"></div>

<p>Every backup method falls into one of two categories, and understanding the trade-offs determines which tools you reach for.</p>
<p>A <strong>logical backup</strong> exports data as SQL statements or delimited text. You get a portable, human-readable file that can be loaded into any compatible database version. The trade-off is speed - logical backups read every row through the SQL layer, and restoring means re-executing every <code>INSERT</code>. For a 500 GB database, that can take hours or days.</p>
<p>A <strong>physical backup</strong> copies the raw data files (tablespace files, WAL segments, redo logs) at the filesystem or storage level. These are fast to create and fast to restore because they skip the SQL layer entirely. The trade-off is portability - a physical backup is tied to the exact database version, architecture, and often the same configuration.</p>
<table>
<thead>
<tr>
<th>Factor</th>
<th>Logical</th>
<th>Physical</th>
</tr>
</thead>
<tbody>
<tr>
<td>Speed (backup)</td>
<td>Slow - reads through SQL</td>
<td>Fast - copies raw files</td>
</tr>
<tr>
<td>Speed (restore)</td>
<td>Slow - re-executes SQL</td>
<td>Fast - copies files back</td>
</tr>
<tr>
<td>Size</td>
<td>Smaller (text, compresses well)</td>
<td>Larger (raw pages, internal fragmentation)</td>
</tr>
<tr>
<td>Portability</td>
<td>High - works across versions and platforms</td>
<td>Low - same version and architecture</td>
</tr>
<tr>
<td>Granularity</td>
<td>Per-table, per-database, or full</td>
<td>Usually full instance (some tools support incremental)</td>
</tr>
<tr>
<td>Consistency</td>
<td>Snapshot via transactions or locking</td>
<td>Requires coordination (flush, freeze, or hot backup tool)</td>
</tr>
<tr>
<td>PITR support</td>
<td>No (without binary log/WAL)</td>
<td>Yes (with log replay)</td>
</tr>
</tbody>
</table>
<p>When to use each:</p>
<ul>
<li><strong>Logical</strong>: migrating between versions, exporting specific tables, small-to-medium databases, cross-platform transfers</li>
<li><strong>Physical</strong>: large databases where restore speed matters, disaster recovery, setting up replicas, when you need point-in-time recovery</li>
</ul>
<p>Most production environments use both - nightly physical backups for fast disaster recovery, plus periodic logical backups for portability and schema versioning.</p>
<div class="interactive-quiz" data-config="{&quot;question&quot;: &quot;A 200 GB production MySQL database needs disaster recovery with a maximum 30-minute restore window. Which backup type is most appropriate?&quot;, &quot;type&quot;: &quot;multiple-choice&quot;, &quot;options&quot;: [{&quot;text&quot;: &quot;Logical backup with mysqldump&quot;, &quot;feedback&quot;: &quot;Restoring a 200 GB logical backup takes hours because every INSERT must be re-executed through the SQL layer. This would not meet a 30-minute restore window.&quot;}, {&quot;text&quot;: &quot;Physical backup with Percona XtraBackup or filesystem snapshot&quot;, &quot;correct&quot;: true, &quot;feedback&quot;: &quot;Correct. Physical backups restore by copying raw data files back into place, which is dramatically faster than replaying SQL statements. For a 200 GB database, a physical restore can complete in minutes rather than hours.&quot;}, {&quot;text&quot;: &quot;Logical backup with mydumper for parallel speed&quot;, &quot;feedback&quot;: &quot;mydumper parallelizes the backup and restore process, but restoring 200 GB of SQL still takes far longer than copying raw files. Physical backup is the right choice for tight restore windows.&quot;}, {&quot;text&quot;: &quot;No backup needed if replication is configured&quot;, &quot;feedback&quot;: &quot;Replication is not a backup. A DROP TABLE or accidental DELETE replicates to all replicas instantly. You need independent backups regardless of replication topology.&quot;}]}"><noscript><p><strong>A 200 GB production MySQL database needs disaster recovery with a maximum 30-minute restore window. Which backup type is most appropriate?</strong> (requires JavaScript)</p></noscript></div>
<hr />
<h2 id="mysql-backup-tools">MySQL Backup Tools<a class="headerlink" href="#mysql-backup-tools" title="Permanent link">&para;</a></h2>
<h3 id="mysqldump">mysqldump<a class="headerlink" href="#mysqldump" title="Permanent link">&para;</a></h3>
<p><a href="https://dev.mysql.com/doc/refman/8.0/en/mysqldump.html"><strong><code>mysqldump</code></strong></a> is the standard logical backup tool shipped with MySQL. It produces SQL output that recreates the schema and data.</p>
<p>A basic full backup:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>mysqldump<span class="w"> </span>--single-transaction<span class="w"> </span>--routines<span class="w"> </span>--triggers<span class="w"> </span>--events<span class="w"> </span><span class="se">\</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">  </span>--all-databases<span class="w"> </span>&gt;<span class="w"> </span>full_backup.sql
</span></code></pre></div>
<p>The flags that matter:</p>
<table>
<thead>
<tr>
<th>Flag</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--single-transaction</code></td>
<td>Takes a consistent snapshot using a transaction (InnoDB only, no table locks)</td>
</tr>
<tr>
<td><code>--routines</code></td>
<td>Includes stored procedures and functions</td>
</tr>
<tr>
<td><code>--triggers</code></td>
<td>Includes triggers (on by default in MySQL 5.7+, but be explicit)</td>
</tr>
<tr>
<td><code>--events</code></td>
<td>Includes scheduled events</td>
</tr>
<tr>
<td><code>--all-databases</code></td>
<td>Dumps every database</td>
</tr>
<tr>
<td><code>--flush-logs</code></td>
<td>Rotates binary logs after the dump, useful for PITR</td>
</tr>
<tr>
<td><code>--source-data=2</code></td>
<td>Records the binary log position as a comment (MySQL 8.0+, replaces <code>--master-data</code>)</td>
</tr>
<tr>
<td><code>--set-gtid-purged=OFF</code></td>
<td>Prevents GTID-related errors when restoring to a non-GTID server</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">MyISAM and --single-transaction</p>
<p><code>--single-transaction</code> only provides consistency for InnoDB tables. If your database contains MyISAM tables, you need <code>--lock-all-tables</code> instead, which blocks all writes during the dump. On modern MySQL, you should be using InnoDB for everything.</p>
</div>
<p>Restoring a <code>mysqldump</code> backup:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>mysql<span class="w"> </span>&lt;<span class="w"> </span>full_backup.sql
</span></code></pre></div>
<p>For large restores, disable checks to speed up the import:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>mysql<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;SET GLOBAL innodb_flush_log_at_trx_commit=2; SET GLOBAL sync_binlog=0;&quot;</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>mysql<span class="w"> </span>&lt;<span class="w"> </span>full_backup.sql
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>mysql<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;SET GLOBAL innodb_flush_log_at_trx_commit=1; SET GLOBAL sync_binlog=1;&quot;</span>
</span></code></pre></div>
<div class="interactive-command-builder" data-config="{&quot;base&quot;: &quot;mysqldump&quot;, &quot;description&quot;: &quot;Build a mysqldump command for MySQL logical backups&quot;, &quot;options&quot;: [{&quot;flag&quot;: &quot;&quot;, &quot;type&quot;: &quot;select&quot;, &quot;label&quot;: &quot;Scope&quot;, &quot;explanation&quot;: &quot;What to back up&quot;, &quot;choices&quot;: [[&quot;--all-databases&quot;, &quot;All databases&quot;], [&quot;--databases db1 db2&quot;, &quot;Specific databases&quot;], [&quot;dbname tablename&quot;, &quot;Single table&quot;]]}, {&quot;flag&quot;: &quot;&quot;, &quot;type&quot;: &quot;select&quot;, &quot;label&quot;: &quot;Consistency&quot;, &quot;explanation&quot;: &quot;How to ensure a consistent snapshot&quot;, &quot;choices&quot;: [[&quot;--single-transaction&quot;, &quot;InnoDB snapshot (no locking)&quot;], [&quot;--lock-all-tables&quot;, &quot;Global read lock (MyISAM or mixed engines)&quot;], [&quot;--lock-tables&quot;, &quot;Per-table locks (default)&quot;]]}, {&quot;flag&quot;: &quot;&quot;, &quot;type&quot;: &quot;select&quot;, &quot;label&quot;: &quot;Include objects&quot;, &quot;explanation&quot;: &quot;Include stored routines, triggers, and events&quot;, &quot;choices&quot;: [[&quot;--routines --triggers --events&quot;, &quot;All objects (routines, triggers, events)&quot;], [&quot;--routines --triggers&quot;, &quot;Routines and triggers only&quot;], [&quot;&quot;, &quot;Data and schema only&quot;]]}, {&quot;flag&quot;: &quot;&quot;, &quot;type&quot;: &quot;select&quot;, &quot;label&quot;: &quot;Binary log position&quot;, &quot;explanation&quot;: &quot;Record the binary log position for PITR&quot;, &quot;choices&quot;: [[&quot;&quot;, &quot;Do not record position&quot;], [&quot;--source-data=2&quot;, &quot;Record as comment (MySQL 8.0+)&quot;], [&quot;--flush-logs&quot;, &quot;Rotate logs after dump&quot;]]}, {&quot;flag&quot;: &quot;&quot;, &quot;type&quot;: &quot;select&quot;, &quot;label&quot;: &quot;Compression&quot;, &quot;explanation&quot;: &quot;Compress the output&quot;, &quot;choices&quot;: [[&quot;&quot;, &quot;No compression (pipe to gzip separately)&quot;], [&quot;--compress&quot;, &quot;Compress data in transit (client-server)&quot;]]}]}"><noscript><p><strong>Command Builder</strong> (requires JavaScript)</p></noscript></div>
<h3 id="mydumper-and-myloader">mydumper and myloader<a class="headerlink" href="#mydumper-and-myloader" title="Permanent link">&para;</a></h3>
<p><a href="https://github.com/mydumper/mydumper"><strong><code>mydumper</code></strong></a> is a third-party tool that parallelizes logical backups. Where <code>mysqldump</code> uses a single thread, <code>mydumper</code> can dump multiple tables simultaneously and splits large tables into chunks. The companion tool <code>myloader</code> restores in parallel.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1"># Parallel backup with 4 threads</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>mydumper<span class="w"> </span>--threads<span class="w"> </span><span class="m">4</span><span class="w"> </span>--compress<span class="w"> </span>--outputdir<span class="w"> </span>/backup/mysql/daily
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="c1"># Parallel restore</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>myloader<span class="w"> </span>--threads<span class="w"> </span><span class="m">4</span><span class="w"> </span>--directory<span class="w"> </span>/backup/mysql/daily
</span></code></pre></div>
<p>For a 100 GB database, <code>mydumper</code>/<code>myloader</code> can be 4-8x faster than <code>mysqldump</code>/<code>mysql</code> depending on hardware and table count.</p>
<h3 id="mysqlpump">mysqlpump<a class="headerlink" href="#mysqlpump" title="Permanent link">&para;</a></h3>
<p><a href="https://dev.mysql.com/doc/refman/8.0/en/mysqlpump.html"><strong><code>mysqlpump</code></strong></a> is MySQL's built-in parallel dump tool (introduced in 5.7). It supports parallel processing and progress reporting but has seen less adoption than <code>mydumper</code> and was deprecated in MySQL 8.0.3 in favor of MySQL Shell's dump utilities.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>mysqlpump<span class="w"> </span>--default-parallelism<span class="o">=</span><span class="m">4</span><span class="w"> </span>--all-databases<span class="w"> </span>&gt;<span class="w"> </span>backup.sql
</span></code></pre></div>
<hr />
<h2 id="postgresql-backup-tools">PostgreSQL Backup Tools<a class="headerlink" href="#postgresql-backup-tools" title="Permanent link">&para;</a></h2>
<h3 id="pg_dump">pg_dump<a class="headerlink" href="#pg_dump" title="Permanent link">&para;</a></h3>
<p><a href="https://www.postgresql.org/docs/current/app-pgdump.html"><strong><code>pg_dump</code></strong></a> is the standard logical backup tool for PostgreSQL. Unlike <code>mysqldump</code>, it supports multiple output formats.</p>
<table>
<thead>
<tr>
<th>Format</th>
<th>Flag</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Plain SQL</td>
<td><code>-Fp</code></td>
<td>SQL text output (default), restored with <code>psql</code></td>
</tr>
<tr>
<td>Custom</td>
<td><code>-Fc</code></td>
<td>Compressed, supports selective restore, restored with <code>pg_restore</code></td>
</tr>
<tr>
<td>Directory</td>
<td><code>-Fd</code></td>
<td>One file per table, supports parallel dump and restore</td>
</tr>
<tr>
<td>Tar</td>
<td><code>-Ft</code></td>
<td>Tar archive, restored with <code>pg_restore</code></td>
</tr>
</tbody>
</table>
<p>The <strong>custom format</strong> (<code>-Fc</code>) is the best default choice - it compresses automatically, supports selective table restore, and allows parallel restore with <code>pg_restore -j</code>.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1"># Custom format (recommended)</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>pg_dump<span class="w"> </span>-Fc<span class="w"> </span>mydb<span class="w"> </span>&gt;<span class="w"> </span>mydb.dump
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="c1"># Directory format with parallel dump (4 jobs)</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>pg_dump<span class="w"> </span>-Fd<span class="w"> </span>-j<span class="w"> </span><span class="m">4</span><span class="w"> </span>mydb<span class="w"> </span>-f<span class="w"> </span>/backup/mydb_dir
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="c1"># Plain SQL (human-readable)</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>pg_dump<span class="w"> </span>-Fp<span class="w"> </span>mydb<span class="w"> </span>&gt;<span class="w"> </span>mydb.sql
</span></code></pre></div>
<p>Restoring:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1"># From custom or tar format</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>pg_restore<span class="w"> </span>-d<span class="w"> </span>mydb<span class="w"> </span>mydb.dump
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="c1"># Parallel restore (4 jobs, custom or directory format only)</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>pg_restore<span class="w"> </span>-d<span class="w"> </span>mydb<span class="w"> </span>-j<span class="w"> </span><span class="m">4</span><span class="w"> </span>mydb.dump
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="c1"># From plain SQL</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>psql<span class="w"> </span>-d<span class="w"> </span>mydb<span class="w"> </span>-f<span class="w"> </span>mydb.sql
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="c1"># Restore specific tables only</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>pg_restore<span class="w"> </span>-d<span class="w"> </span>mydb<span class="w"> </span>-t<span class="w"> </span>orders<span class="w"> </span>-t<span class="w"> </span>customers<span class="w"> </span>mydb.dump
</span></code></pre></div>
<h3 id="pg_dumpall">pg_dumpall<a class="headerlink" href="#pg_dumpall" title="Permanent link">&para;</a></h3>
<p><a href="https://www.postgresql.org/docs/current/app-pg-dumpall.html"><strong><code>pg_dumpall</code></strong></a> dumps the entire cluster including <strong>roles</strong>, <strong>tablespaces</strong>, and other global objects that <code>pg_dump</code> does not capture.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1"># Full cluster dump (roles + all databases)</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>pg_dumpall<span class="w"> </span>&gt;<span class="w"> </span>cluster_backup.sql
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="c1"># Globals only (roles and tablespaces, no data)</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>pg_dumpall<span class="w"> </span>--globals-only<span class="w"> </span>&gt;<span class="w"> </span>globals.sql
</span></code></pre></div>
<p>A common pattern is to use <code>pg_dumpall --globals-only</code> for roles and <code>pg_dump -Fc</code> per database for data. This gives you the flexibility of custom format for data while still capturing global objects.</p>
<h3 id="pg_basebackup">pg_basebackup<a class="headerlink" href="#pg_basebackup" title="Permanent link">&para;</a></h3>
<p><a href="https://www.postgresql.org/docs/current/app-pgbasebackup.html"><strong><code>pg_basebackup</code></strong></a> creates a <strong>physical backup</strong> by streaming a copy of the entire PostgreSQL data directory. This is the foundation for setting up streaming replicas and for physical backup strategies.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1"># Stream a physical backup to a directory</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>pg_basebackup<span class="w"> </span>-D<span class="w"> </span>/backup/pg_base<span class="w"> </span>-Fp<span class="w"> </span>-Xs<span class="w"> </span>-P<span class="w"> </span>-R
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="c1"># Create a compressed tar backup</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>pg_basebackup<span class="w"> </span>-D<span class="w"> </span>/backup/pg_base<span class="w"> </span>-Ft<span class="w"> </span>-Xf<span class="w"> </span>-z
</span></code></pre></div>
<table>
<thead>
<tr>
<th>Flag</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-D</code></td>
<td>Destination directory</td>
</tr>
<tr>
<td><code>-Fp</code></td>
<td>Plain format (data directory copy)</td>
</tr>
<tr>
<td><code>-Ft</code></td>
<td>Tar format</td>
</tr>
<tr>
<td><code>-Xs</code></td>
<td>Stream WAL during backup (recommended)</td>
</tr>
<tr>
<td><code>-Xf</code></td>
<td>Fetch WAL after backup completes</td>
</tr>
<tr>
<td><code>-z</code></td>
<td>Compress output (tar format only)</td>
</tr>
<tr>
<td><code>-P</code></td>
<td>Show progress</td>
</tr>
<tr>
<td><code>-R</code></td>
<td>Write <code>standby.signal</code> and connection settings for replica setup</td>
</tr>
</tbody>
</table>
<div class="interactive-quiz" data-config="{&quot;question&quot;: &quot;What is the advantage of pg_dump -Fc (custom format) over pg_dump -Fp (plain SQL)?&quot;, &quot;type&quot;: &quot;multiple-choice&quot;, &quot;options&quot;: [{&quot;text&quot;: &quot;Custom format is human-readable while plain SQL is not&quot;, &quot;feedback&quot;: &quot;It is the opposite. Plain SQL (-Fp) is human-readable text. Custom format (-Fc) is a compressed binary format that requires pg_restore to read.&quot;}, {&quot;text&quot;: &quot;Custom format supports automatic compression, selective restore of individual tables, and parallel restore&quot;, &quot;correct&quot;: true, &quot;feedback&quot;: &quot;Correct. Custom format compresses by default, allows pg_restore to extract specific tables with -t, and supports parallel restore with -j. Plain SQL must be replayed sequentially with psql and cannot selectively restore individual objects.&quot;}, {&quot;text&quot;: &quot;Custom format is the only format that captures roles and tablespaces&quot;, &quot;feedback&quot;: &quot;No format of pg_dump captures roles or tablespaces. Those are cluster-level objects that require pg_dumpall --globals-only.&quot;}, {&quot;text&quot;: &quot;Custom format creates a physical backup while plain SQL creates a logical backup&quot;, &quot;feedback&quot;: &quot;Both are logical backups. pg_dump always exports data through the SQL layer regardless of format. Physical backups require pg_basebackup.&quot;}]}"><noscript><p><strong>What is the advantage of pg_dump -Fc (custom format) over pg_dump -Fp (plain SQL)?</strong> (requires JavaScript)</p></noscript></div>
<div class="interactive-terminal" data-config="{&quot;title&quot;: &quot;MySQL and PostgreSQL Logical Backup Workflow&quot;, &quot;steps&quot;: [{&quot;command&quot;: &quot;mysqldump --single-transaction --routines --triggers --events --all-databases > /backup/mysql_full_$(date +%Y%m%d).sql&quot;, &quot;output&quot;: &quot;-- MySQL dump 10.13  Distrib 8.0.36\n&quot;, &quot;narration&quot;: &quot;Run a full MySQL logical backup with --single-transaction for InnoDB consistency. The --routines, --triggers, and --events flags capture stored procedures, triggers, and scheduled events that are easy to forget.&quot;}, {&quot;command&quot;: &quot;ls -lh /backup/mysql_full_*.sql&quot;, &quot;output&quot;: &quot;-rw-r--r-- 1 root root 2.4G Feb 19 02:00 /backup/mysql_full_20260219.sql\n&quot;, &quot;narration&quot;: &quot;A 2.4 GB SQL file for this database. Compressing with gzip typically reduces this by 80-90%.&quot;}, {&quot;command&quot;: &quot;gzip /backup/mysql_full_20260219.sql &amp;&amp; ls -lh /backup/mysql_full_*.sql.gz&quot;, &quot;output&quot;: &quot;-rw-r--r-- 1 root root 312M Feb 19 02:03 /backup/mysql_full_20260219.sql.gz\n&quot;, &quot;narration&quot;: &quot;Compressed from 2.4 GB to 312 MB. Always compress backups to save storage and transfer time.&quot;}, {&quot;command&quot;: &quot;pg_dump -Fc -d myapp > /backup/pg_myapp_$(date +%Y%m%d).dump&quot;, &quot;output&quot;: &quot;&quot;, &quot;narration&quot;: &quot;PostgreSQL backup using custom format (-Fc). This format compresses automatically and supports selective restore with pg_restore.&quot;}, {&quot;command&quot;: &quot;pg_dumpall --globals-only > /backup/pg_globals_$(date +%Y%m%d).sql&quot;, &quot;output&quot;: &quot;&quot;, &quot;narration&quot;: &quot;Separately dump roles and tablespace definitions. pg_dump does not capture these cluster-level objects, so you need pg_dumpall --globals-only alongside your per-database dumps.&quot;}, {&quot;command&quot;: &quot;pg_restore --list /backup/pg_myapp_20260219.dump | head -10&quot;, &quot;output&quot;: &quot;;\n; Archive created at 2026-02-19 02:05:00 UTC\n;     dbname: myapp\n;     TOC Entries: 142\n;     Compression: -1\n;     Dump Version: 1.14-0\n;     Format: CUSTOM\n;     Integer: 4 bytes\n;     Offset: 8 bytes\n;     Dumped from database version: 16.2\n&quot;, &quot;narration&quot;: &quot;Use pg_restore --list to inspect a custom format backup without restoring it. This shows metadata and a table of contents listing every object in the backup.&quot;}]}"><noscript><p><strong>MySQL and PostgreSQL Logical Backup Workflow</strong> (requires JavaScript)</p></noscript></div>
<hr />
<h2 id="percona-xtrabackup">Percona XtraBackup<a class="headerlink" href="#percona-xtrabackup" title="Permanent link">&para;</a></h2>
<p><a href="https://docs.percona.com/percona-xtrabackup/8.0/"><strong>Percona XtraBackup</strong></a> creates <strong>hot physical backups</strong> of InnoDB without locking tables or interrupting transactions. It copies the InnoDB data files while tracking the redo log to capture changes made during the copy. This makes it the standard tool for MySQL physical backups in production.</p>
<h3 id="full-backup">Full Backup<a class="headerlink" href="#full-backup" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1"># Create a full backup</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>xtrabackup<span class="w"> </span>--backup<span class="w"> </span>--target-dir<span class="o">=</span>/backup/base
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="c1"># Prepare the backup (apply redo log for consistency)</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>xtrabackup<span class="w"> </span>--prepare<span class="w"> </span>--target-dir<span class="o">=</span>/backup/base
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="c1"># Restore (MySQL must be stopped)</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>systemctl<span class="w"> </span>stop<span class="w"> </span>mysql
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>rm<span class="w"> </span>-rf<span class="w"> </span>/var/lib/mysql/*
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>xtrabackup<span class="w"> </span>--copy-back<span class="w"> </span>--target-dir<span class="o">=</span>/backup/base
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>chown<span class="w"> </span>-R<span class="w"> </span>mysql:mysql<span class="w"> </span>/var/lib/mysql
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>systemctl<span class="w"> </span>start<span class="w"> </span>mysql
</span></code></pre></div>
<p>The <strong>prepare</strong> step is critical. A raw XtraBackup is not consistent - it contains data files from different points in time plus redo log entries. The prepare step replays the redo log to bring all data files to a consistent state, just like InnoDB crash recovery.</p>
<h3 id="incremental-backups">Incremental Backups<a class="headerlink" href="#incremental-backups" title="Permanent link">&para;</a></h3>
<p>XtraBackup supports <strong>incremental backups</strong> that only copy pages changed since the last backup. This dramatically reduces backup time and storage for large databases.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c1"># Full base backup (Sunday)</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>xtrabackup<span class="w"> </span>--backup<span class="w"> </span>--target-dir<span class="o">=</span>/backup/base
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="c1"># Incremental backup (Monday) - only changed pages</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>xtrabackup<span class="w"> </span>--backup<span class="w"> </span>--target-dir<span class="o">=</span>/backup/inc1<span class="w"> </span><span class="se">\</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="w">  </span>--incremental-basedir<span class="o">=</span>/backup/base
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="c1"># Incremental backup (Tuesday)</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>xtrabackup<span class="w"> </span>--backup<span class="w"> </span>--target-dir<span class="o">=</span>/backup/inc2<span class="w"> </span><span class="se">\</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="w">  </span>--incremental-basedir<span class="o">=</span>/backup/inc1
</span></code></pre></div>
<p>Restoring an incremental chain requires preparing each increment in order:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1"># Prepare base (with --apply-log-only to preserve uncommitted transactions)</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>xtrabackup<span class="w"> </span>--prepare<span class="w"> </span>--apply-log-only<span class="w"> </span>--target-dir<span class="o">=</span>/backup/base
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="c1"># Apply incremental backups in order</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>xtrabackup<span class="w"> </span>--prepare<span class="w"> </span>--apply-log-only<span class="w"> </span>--target-dir<span class="o">=</span>/backup/base<span class="w"> </span><span class="se">\</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="w">  </span>--incremental-dir<span class="o">=</span>/backup/inc1
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>xtrabackup<span class="w"> </span>--prepare<span class="w"> </span>--apply-log-only<span class="w"> </span>--target-dir<span class="o">=</span>/backup/base<span class="w"> </span><span class="se">\</span>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="w">  </span>--incremental-dir<span class="o">=</span>/backup/inc2
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="c1"># Final prepare (without --apply-log-only)</span>
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a>xtrabackup<span class="w"> </span>--prepare<span class="w"> </span>--target-dir<span class="o">=</span>/backup/base
</span><span id="__span-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a>
</span><span id="__span-11-14"><a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="c1"># Restore</span>
</span><span id="__span-11-15"><a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a>systemctl<span class="w"> </span>stop<span class="w"> </span>mysql
</span><span id="__span-11-16"><a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a>rm<span class="w"> </span>-rf<span class="w"> </span>/var/lib/mysql/*
</span><span id="__span-11-17"><a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a>xtrabackup<span class="w"> </span>--copy-back<span class="w"> </span>--target-dir<span class="o">=</span>/backup/base
</span><span id="__span-11-18"><a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a>chown<span class="w"> </span>-R<span class="w"> </span>mysql:mysql<span class="w"> </span>/var/lib/mysql
</span><span id="__span-11-19"><a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a>systemctl<span class="w"> </span>start<span class="w"> </span>mysql
</span></code></pre></div>
<div class="admonition tip">
<p class="admonition-title">The --apply-log-only flag</p>
<p>Use <code>--apply-log-only</code> during intermediate prepare steps. Without it, XtraBackup rolls back uncommitted transactions, which makes subsequent incremental applies fail. Only omit <code>--apply-log-only</code> on the final prepare step.</p>
</div>
<hr />
<h2 id="point-in-time-recovery-pitr">Point-in-Time Recovery (PITR)<a class="headerlink" href="#point-in-time-recovery-pitr" title="Permanent link">&para;</a></h2>
<p>Backups give you a snapshot. <strong>Point-in-time recovery</strong> fills the gap between the snapshot and the moment of failure (or the moment before an accidental change). PITR replays transaction logs from the backup's position forward to a specific timestamp or log position.</p>
<pre class="mermaid"><code>flowchart LR
    FB[Full Backup&lt;br/&gt;Sunday 02:00] --&gt; WAL1[WAL Segment 1]
    WAL1 --&gt; WAL2[WAL Segment 2]
    WAL2 --&gt; WAL3[WAL Segment 3]
    WAL3 --&gt; F[Failure&lt;br/&gt;Wednesday 14:30]

    FB --&gt; R[Restore Base Backup]
    R --&gt; RP[Replay WAL/Binlog&lt;br/&gt;to Target Time]
    RP --&gt; REC[Recovered Database&lt;br/&gt;Wednesday 14:29]</code></pre>
<h3 id="mysql-binary-log-replay">MySQL: Binary Log Replay<a class="headerlink" href="#mysql-binary-log-replay" title="Permanent link">&para;</a></h3>
<p>MySQL's <strong>binary log</strong> records every data-modifying statement or row change. PITR replays these logs with <a href="https://dev.mysql.com/doc/refman/8.0/en/mysqlbinlog.html"><strong><code>mysqlbinlog</code></strong></a>.</p>
<p><strong>Step 1</strong>: Restore from the most recent full backup.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>mysql<span class="w"> </span>&lt;<span class="w"> </span>/backup/mysql_full_20260218.sql
</span></code></pre></div>
<p><strong>Step 2</strong>: Identify the binary logs created after the backup.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>ls<span class="w"> </span>-la<span class="w"> </span>/var/lib/mysql/binlog.*
</span></code></pre></div>
<p><strong>Step 3</strong>: Replay binary logs up to the target time (just before the accidental operation).</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>mysqlbinlog<span class="w"> </span>--stop-datetime<span class="o">=</span><span class="s2">&quot;2026-02-19 14:30:00&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="w">  </span>/var/lib/mysql/binlog.000042<span class="w"> </span><span class="se">\</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">  </span>/var/lib/mysql/binlog.000043<span class="w"> </span><span class="p">|</span><span class="w"> </span>mysql
</span></code></pre></div>
<p>To skip a specific bad transaction, use <code>--start-position</code> and <code>--stop-position</code> to replay around it:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="c1"># Replay everything up to the bad statement</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>mysqlbinlog<span class="w"> </span>--stop-position<span class="o">=</span><span class="m">12345</span><span class="w"> </span>/var/lib/mysql/binlog.000042<span class="w"> </span><span class="p">|</span><span class="w"> </span>mysql
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="c1"># Skip the bad statement and continue from after it</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>mysqlbinlog<span class="w"> </span>--start-position<span class="o">=</span><span class="m">12400</span><span class="w"> </span>/var/lib/mysql/binlog.000042<span class="w"> </span><span class="p">|</span><span class="w"> </span>mysql
</span></code></pre></div>
<div class="admonition danger">
<p class="admonition-title">Binary logging must be enabled BEFORE disaster</p>
<p>PITR only works if <code>log_bin</code> is enabled and binary logs exist from the backup point forward. Verify with <code>SHOW VARIABLES LIKE 'log_bin'</code>. If binary logging was not enabled, you can only restore to the backup snapshot - everything after it is lost.</p>
</div>
<h3 id="postgresql-wal-archiving-and-recovery">PostgreSQL: WAL Archiving and Recovery<a class="headerlink" href="#postgresql-wal-archiving-and-recovery" title="Permanent link">&para;</a></h3>
<p>PostgreSQL's equivalent is <strong>Write-Ahead Log (WAL) archiving</strong>. Every change is written to WAL segments before it reaches the data files. By archiving these segments, you can replay them to recover to any point in time.</p>
<p><strong>Step 1</strong>: Configure WAL archiving in <code>postgresql.conf</code>:</p>
<div class="language-ini highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="na">wal_level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">replica</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="na">archive_mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">on</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="na">archive_command</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#39;cp %p /backup/wal_archive/%f&#39;</span>
</span></code></pre></div>
<p><strong>Step 2</strong>: Take a base backup:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>pg_basebackup<span class="w"> </span>-D<span class="w"> </span>/backup/pg_base<span class="w"> </span>-Fp<span class="w"> </span>-Xs<span class="w"> </span>-P
</span></code></pre></div>
<p><strong>Step 3</strong>: When recovery is needed, copy the base backup into position and configure recovery:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="c1"># Stop PostgreSQL</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>systemctl<span class="w"> </span>stop<span class="w"> </span>postgresql
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="c1"># Replace the data directory with the backup</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>rm<span class="w"> </span>-rf<span class="w"> </span>/var/lib/postgresql/16/main
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>cp<span class="w"> </span>-a<span class="w"> </span>/backup/pg_base<span class="w"> </span>/var/lib/postgresql/16/main
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="c1"># Configure recovery target</span>
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>cat<span class="w"> </span>&gt;&gt;<span class="w"> </span>/var/lib/postgresql/16/main/postgresql.auto.conf<span class="w"> </span><span class="s">&lt;&lt;EOF</span>
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a><span class="s">restore_command = &#39;cp /backup/wal_archive/%f %p&#39;</span>
</span><span id="__span-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a><span class="s">recovery_target_time = &#39;2026-02-19 14:30:00&#39;</span>
</span><span id="__span-18-12"><a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a><span class="s">EOF</span>
</span><span id="__span-18-13"><a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a>
</span><span id="__span-18-14"><a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a><span class="c1"># Create the recovery signal file</span>
</span><span id="__span-18-15"><a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a>touch<span class="w"> </span>/var/lib/postgresql/16/main/recovery.signal
</span><span id="__span-18-16"><a id="__codelineno-18-16" name="__codelineno-18-16" href="#__codelineno-18-16"></a>
</span><span id="__span-18-17"><a id="__codelineno-18-17" name="__codelineno-18-17" href="#__codelineno-18-17"></a><span class="c1"># Start PostgreSQL - it will replay WAL to the target time</span>
</span><span id="__span-18-18"><a id="__codelineno-18-18" name="__codelineno-18-18" href="#__codelineno-18-18"></a>chown<span class="w"> </span>-R<span class="w"> </span>postgres:postgres<span class="w"> </span>/var/lib/postgresql/16/main
</span><span id="__span-18-19"><a id="__codelineno-18-19" name="__codelineno-18-19" href="#__codelineno-18-19"></a>systemctl<span class="w"> </span>start<span class="w"> </span>postgresql
</span></code></pre></div>
<p>PostgreSQL replays archived WAL segments using <code>restore_command</code> until it reaches <code>recovery_target_time</code>, then pauses. You verify the data and promote to normal operation:</p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">pg_wal_replay_resume</span><span class="p">();</span>
</span></code></pre></div>
<div class="interactive-terminal" data-config="{&quot;title&quot;: &quot;Point-in-Time Recovery with MySQL Binary Logs&quot;, &quot;steps&quot;: [{&quot;command&quot;: &quot;mysql -e \&quot;SHOW BINARY LOGS\&quot; | tail -5&quot;, &quot;output&quot;: &quot;binlog.000041  1073742056  No\nbinlog.000042   536871234  No\nbinlog.000043   268435712  No\nbinlog.000044    12345678  No\nbinlog.000045     4567890  No\n&quot;, &quot;narration&quot;: &quot;First, check which binary logs are available. You need logs that cover the period from your last backup to the target recovery point. The size column shows bytes written to each log.&quot;}, {&quot;command&quot;: &quot;mysqlbinlog --start-datetime=&#39;2026-02-19 14:00:00&#39; --stop-datetime=&#39;2026-02-19 14:35:00&#39; /var/lib/mysql/binlog.000044 | grep -i &#39;drop\\|delete\\|truncate&#39; | head -5&quot;, &quot;output&quot;: &quot;# at 9876543\n#260219 14:32:15 server id 1  end_log_pos 9876610  Query   thread_id=42  exec_time=0  error_code=0\nDROP TABLE orders\n&quot;, &quot;narration&quot;: &quot;Search the binary logs to find the exact position of the accidental statement. Here a DROP TABLE happened at position 9876543 in binlog.000044 at 14:32:15.&quot;}, {&quot;command&quot;: &quot;mysql < /backup/mysql_full_20260219.sql&quot;, &quot;output&quot;: &quot;&quot;, &quot;narration&quot;: &quot;Restore the most recent full backup. This brings the database to the state at backup time. Everything after that point needs to be replayed from binary logs.&quot;}, {&quot;command&quot;: &quot;mysqlbinlog /var/lib/mysql/binlog.000042 /var/lib/mysql/binlog.000043 /var/lib/mysql/binlog.000044 --stop-position=9876543 | mysql&quot;, &quot;output&quot;: &quot;&quot;, &quot;narration&quot;: &quot;Replay all binary logs from after the backup up to (but not including) the accidental DROP TABLE at position 9876543. This recovers the database to exactly one transaction before the disaster.&quot;}, {&quot;command&quot;: &quot;mysql -e &#39;SELECT COUNT(*) AS order_count FROM orders&#39; mydb&quot;, &quot;output&quot;: &quot;+-------------+\n| order_count |\n+-------------+\n|       48721 |\n+-------------+\n&quot;, &quot;narration&quot;: &quot;Verify the orders table exists and contains data. The recovery successfully restored the database to the state just before the accidental DROP TABLE.&quot;}]}"><noscript><p><strong>Point-in-Time Recovery with MySQL Binary Logs</strong> (requires JavaScript)</p></noscript></div>
<div class="interactive-quiz" data-config="{&quot;question&quot;: &quot;You restored a MySQL backup taken at midnight and need to recover to 14:30. Binary logs binlog.000042 through binlog.000045 exist. What is the correct mysqlbinlog command?&quot;, &quot;type&quot;: &quot;multiple-choice&quot;, &quot;options&quot;: [{&quot;text&quot;: &quot;mysqlbinlog --stop-datetime=&#39;14:30:00&#39; binlog.000045 | mysql&quot;, &quot;feedback&quot;: &quot;This only replays binlog.000045 and misses all changes recorded in binlog.000042 through binlog.000044. You must replay all logs in sequence from the backup point forward.&quot;}, {&quot;text&quot;: &quot;mysqlbinlog --stop-datetime=&#39;2026-02-19 14:30:00&#39; binlog.000042 binlog.000043 binlog.000044 binlog.000045 | mysql&quot;, &quot;correct&quot;: true, &quot;feedback&quot;: &quot;Correct. List all binary logs in order from the backup point forward. mysqlbinlog concatenates them and --stop-datetime halts replay at the target time across all logs. Use the full datetime format including the date.&quot;}, {&quot;text&quot;: &quot;mysqlbinlog --start-datetime=&#39;00:00:00&#39; --stop-datetime=&#39;14:30:00&#39; binlog.000042 | mysql&quot;, &quot;feedback&quot;: &quot;This only processes one log file and misses changes in subsequent logs. You need all binary logs from the backup point through the recovery target.&quot;}, {&quot;text&quot;: &quot;mysqlbinlog binlog.000042 binlog.000043 binlog.000044 binlog.000045 | mysql&quot;, &quot;feedback&quot;: &quot;Without --stop-datetime, this replays everything including the event you are trying to recover from. You must specify where to stop.&quot;}]}"><noscript><p><strong>You restored a MySQL backup taken at midnight and need to recover to 14:30. Binary logs binlog.000042 through binlog.000045 exist. What is the correct mysqlbinlog command?</strong> (requires JavaScript)</p></noscript></div>
<hr />
<h2 id="backup-verification">Backup Verification<a class="headerlink" href="#backup-verification" title="Permanent link">&para;</a></h2>
<p>A backup that has never been restored is an untested assumption. Schedule regular verification to ensure your backups actually work.</p>
<h3 id="restore-to-a-test-instance">Restore to a Test Instance<a class="headerlink" href="#restore-to-a-test-instance" title="Permanent link">&para;</a></h3>
<p>The most reliable verification is a full restore to a separate server or container:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="c1"># MySQL: restore to a test instance</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>mysql<span class="w"> </span>-h<span class="w"> </span>test-db-host<span class="w"> </span>&lt;<span class="w"> </span>/backup/mysql_full_20260219.sql
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>mysql<span class="w"> </span>-h<span class="w"> </span>test-db-host<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;SELECT COUNT(*) FROM mydb.orders&quot;</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="c1"># PostgreSQL: restore to a test database</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>createdb<span class="w"> </span>-h<span class="w"> </span>test-db-host<span class="w"> </span>mydb_test
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a>pg_restore<span class="w"> </span>-d<span class="w"> </span>mydb_test<span class="w"> </span>-h<span class="w"> </span>test-db-host<span class="w"> </span>/backup/pg_myapp_20260219.dump
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a>psql<span class="w"> </span>-h<span class="w"> </span>test-db-host<span class="w"> </span>-d<span class="w"> </span>mydb_test<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;SELECT COUNT(*) FROM orders&quot;</span>
</span></code></pre></div>
<h3 id="checksum-validation">Checksum Validation<a class="headerlink" href="#checksum-validation" title="Permanent link">&para;</a></h3>
<p>Verify backup file integrity before and after transfer:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="c1"># Generate checksums at backup time</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>sha256sum<span class="w"> </span>/backup/mysql_full_20260219.sql.gz<span class="w"> </span>&gt;<span class="w"> </span>/backup/mysql_full_20260219.sha256
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="c1"># Verify after transfer to offsite storage</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>sha256sum<span class="w"> </span>-c<span class="w"> </span>/backup/mysql_full_20260219.sha256
</span></code></pre></div>
<p>For XtraBackup, the <code>--prepare</code> step itself validates consistency. If prepare succeeds, the backup is restorable.</p>
<h3 id="automated-verification-script">Automated Verification Script<a class="headerlink" href="#automated-verification-script" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="ch">#!/bin/bash</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="c1"># verify_backup.sh - restore and validate the latest backup</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="nv">BACKUP_FILE</span><span class="o">=</span><span class="k">$(</span>ls<span class="w"> </span>-t<span class="w"> </span>/backup/mysql_full_*.sql.gz<span class="w"> </span><span class="p">|</span><span class="w"> </span>head<span class="w"> </span>-1<span class="k">)</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="nv">TEST_DB</span><span class="o">=</span><span class="s2">&quot;backup_verify_</span><span class="k">$(</span>date<span class="w"> </span>+%Y%m%d<span class="k">)</span><span class="s2">&quot;</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="c1"># Create test database and restore</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a>mysql<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;CREATE DATABASE </span><span class="si">${</span><span class="nv">TEST_DB</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a>zcat<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BACKUP_FILE</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>mysql<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">TEST_DB</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-22-10"><a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a>
</span><span id="__span-22-11"><a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a><span class="c1"># Run validation queries</span>
</span><span id="__span-22-12"><a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a><span class="nv">TABLES</span><span class="o">=</span><span class="k">$(</span>mysql<span class="w"> </span>-NBe<span class="w"> </span><span class="s2">&quot;SELECT COUNT(*) FROM information_schema.tables WHERE table_schema=&#39;</span><span class="si">${</span><span class="nv">TEST_DB</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="k">)</span>
</span><span id="__span-22-13"><a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a><span class="nv">ROWS</span><span class="o">=</span><span class="k">$(</span>mysql<span class="w"> </span>-NBe<span class="w"> </span><span class="s2">&quot;SELECT SUM(table_rows) FROM information_schema.tables WHERE table_schema=&#39;</span><span class="si">${</span><span class="nv">TEST_DB</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="k">)</span>
</span><span id="__span-22-14"><a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a>
</span><span id="__span-22-15"><a id="__codelineno-22-15" name="__codelineno-22-15" href="#__codelineno-22-15"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Backup: </span><span class="si">${</span><span class="nv">BACKUP_FILE</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-22-16"><a id="__codelineno-22-16" name="__codelineno-22-16" href="#__codelineno-22-16"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Tables: </span><span class="si">${</span><span class="nv">TABLES</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-22-17"><a id="__codelineno-22-17" name="__codelineno-22-17" href="#__codelineno-22-17"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Total rows: </span><span class="si">${</span><span class="nv">ROWS</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-22-18"><a id="__codelineno-22-18" name="__codelineno-22-18" href="#__codelineno-22-18"></a>
</span><span id="__span-22-19"><a id="__codelineno-22-19" name="__codelineno-22-19" href="#__codelineno-22-19"></a><span class="c1"># Compare against expected minimums</span>
</span><span id="__span-22-20"><a id="__codelineno-22-20" name="__codelineno-22-20" href="#__codelineno-22-20"></a><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">TABLES</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>-lt<span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
</span><span id="__span-22-21"><a id="__codelineno-22-21" name="__codelineno-22-21" href="#__codelineno-22-21"></a><span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;ALERT: Table count below threshold&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
</span><span id="__span-22-22"><a id="__codelineno-22-22" name="__codelineno-22-22" href="#__codelineno-22-22"></a><span class="w">  </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
</span><span id="__span-22-23"><a id="__codelineno-22-23" name="__codelineno-22-23" href="#__codelineno-22-23"></a><span class="k">fi</span>
</span><span id="__span-22-24"><a id="__codelineno-22-24" name="__codelineno-22-24" href="#__codelineno-22-24"></a>
</span><span id="__span-22-25"><a id="__codelineno-22-25" name="__codelineno-22-25" href="#__codelineno-22-25"></a><span class="c1"># Cleanup</span>
</span><span id="__span-22-26"><a id="__codelineno-22-26" name="__codelineno-22-26" href="#__codelineno-22-26"></a>mysql<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;DROP DATABASE </span><span class="si">${</span><span class="nv">TEST_DB</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-22-27"><a id="__codelineno-22-27" name="__codelineno-22-27" href="#__codelineno-22-27"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Verification passed&quot;</span>
</span></code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Automate verification weekly</p>
<p>Run backup verification on a schedule, not just when you suspect a problem. A cron job that restores to a test instance and checks row counts catches silent backup failures before they become disasters.</p>
</div>
<hr />
<h2 id="scheduling-and-rotation">Scheduling and Rotation<a class="headerlink" href="#scheduling-and-rotation" title="Permanent link">&para;</a></h2>
<h3 id="cron-based-backup-scripts">Cron-Based Backup Scripts<a class="headerlink" href="#cron-based-backup-scripts" title="Permanent link">&para;</a></h3>
<p>A production backup script handles compression, logging, error reporting, and cleanup:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="ch">#!/bin/bash</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="c1"># mysql_backup.sh - daily MySQL backup with rotation</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="nb">set</span><span class="w"> </span>-euo<span class="w"> </span>pipefail
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="nv">BACKUP_DIR</span><span class="o">=</span><span class="s2">&quot;/backup/mysql&quot;</span>
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="nv">DATE</span><span class="o">=</span><span class="k">$(</span>date<span class="w"> </span>+%Y%m%d_%H%M%S<span class="k">)</span>
</span><span id="__span-23-8"><a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a><span class="nv">LOG_FILE</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BACKUP_DIR</span><span class="si">}</span><span class="s2">/backup_</span><span class="si">${</span><span class="nv">DATE</span><span class="si">}</span><span class="s2">.log&quot;</span>
</span><span id="__span-23-9"><a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="nv">RETENTION_DAYS</span><span class="o">=</span><span class="m">30</span>
</span><span id="__span-23-10"><a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a>
</span><span id="__span-23-11"><a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a><span class="nb">exec</span><span class="w"> </span>&gt;<span class="w"> </span>&gt;<span class="o">(</span>tee<span class="w"> </span>-a<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">LOG_FILE</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">)</span><span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>
</span><span id="__span-23-12"><a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Backup started: </span><span class="k">$(</span>date<span class="k">)</span><span class="s2">&quot;</span>
</span><span id="__span-23-13"><a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a>
</span><span id="__span-23-14"><a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a><span class="c1"># Full logical backup</span>
</span><span id="__span-23-15"><a id="__codelineno-23-15" name="__codelineno-23-15" href="#__codelineno-23-15"></a>mysqldump<span class="w"> </span>--single-transaction<span class="w"> </span>--routines<span class="w"> </span>--triggers<span class="w"> </span>--events<span class="w"> </span><span class="se">\</span>
</span><span id="__span-23-16"><a id="__codelineno-23-16" name="__codelineno-23-16" href="#__codelineno-23-16"></a><span class="w">  </span>--all-databases<span class="w"> </span><span class="p">|</span><span class="w"> </span>gzip<span class="w"> </span>&gt;<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BACKUP_DIR</span><span class="si">}</span><span class="s2">/full_</span><span class="si">${</span><span class="nv">DATE</span><span class="si">}</span><span class="s2">.sql.gz&quot;</span>
</span><span id="__span-23-17"><a id="__codelineno-23-17" name="__codelineno-23-17" href="#__codelineno-23-17"></a>
</span><span id="__span-23-18"><a id="__codelineno-23-18" name="__codelineno-23-18" href="#__codelineno-23-18"></a><span class="c1"># Generate checksum</span>
</span><span id="__span-23-19"><a id="__codelineno-23-19" name="__codelineno-23-19" href="#__codelineno-23-19"></a>sha256sum<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BACKUP_DIR</span><span class="si">}</span><span class="s2">/full_</span><span class="si">${</span><span class="nv">DATE</span><span class="si">}</span><span class="s2">.sql.gz&quot;</span><span class="w"> </span>&gt;<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BACKUP_DIR</span><span class="si">}</span><span class="s2">/full_</span><span class="si">${</span><span class="nv">DATE</span><span class="si">}</span><span class="s2">.sha256&quot;</span>
</span><span id="__span-23-20"><a id="__codelineno-23-20" name="__codelineno-23-20" href="#__codelineno-23-20"></a>
</span><span id="__span-23-21"><a id="__codelineno-23-21" name="__codelineno-23-21" href="#__codelineno-23-21"></a><span class="c1"># Remove backups older than retention period</span>
</span><span id="__span-23-22"><a id="__codelineno-23-22" name="__codelineno-23-22" href="#__codelineno-23-22"></a>find<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BACKUP_DIR</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;full_*.sql.gz&quot;</span><span class="w"> </span>-mtime<span class="w"> </span>+<span class="si">${</span><span class="nv">RETENTION_DAYS</span><span class="si">}</span><span class="w"> </span>-delete
</span><span id="__span-23-23"><a id="__codelineno-23-23" name="__codelineno-23-23" href="#__codelineno-23-23"></a>find<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BACKUP_DIR</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;full_*.sha256&quot;</span><span class="w"> </span>-mtime<span class="w"> </span>+<span class="si">${</span><span class="nv">RETENTION_DAYS</span><span class="si">}</span><span class="w"> </span>-delete
</span><span id="__span-23-24"><a id="__codelineno-23-24" name="__codelineno-23-24" href="#__codelineno-23-24"></a>find<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BACKUP_DIR</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;backup_*.log&quot;</span><span class="w"> </span>-mtime<span class="w"> </span>+<span class="si">${</span><span class="nv">RETENTION_DAYS</span><span class="si">}</span><span class="w"> </span>-delete
</span><span id="__span-23-25"><a id="__codelineno-23-25" name="__codelineno-23-25" href="#__codelineno-23-25"></a>
</span><span id="__span-23-26"><a id="__codelineno-23-26" name="__codelineno-23-26" href="#__codelineno-23-26"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Backup completed: </span><span class="k">$(</span>date<span class="k">)</span><span class="s2">&quot;</span>
</span><span id="__span-23-27"><a id="__codelineno-23-27" name="__codelineno-23-27" href="#__codelineno-23-27"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Size: </span><span class="k">$(</span>du<span class="w"> </span>-h<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BACKUP_DIR</span><span class="si">}</span><span class="s2">/full_</span><span class="si">${</span><span class="nv">DATE</span><span class="si">}</span><span class="s2">.sql.gz&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-f1<span class="k">)</span><span class="s2">&quot;</span>
</span></code></pre></div>
<p>Schedule with cron:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="c1"># Daily at 2:00 AM</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="m">0</span><span class="w"> </span><span class="m">2</span><span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span>/usr/local/bin/mysql_backup.sh
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="c1"># Weekly XtraBackup full + daily incrementals</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="m">0</span><span class="w"> </span><span class="m">3</span><span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span><span class="m">0</span><span class="w"> </span>/usr/local/bin/xtrabackup_full.sh
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="m">0</span><span class="w"> </span><span class="m">3</span><span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span><span class="m">1</span>-6<span class="w"> </span>/usr/local/bin/xtrabackup_incremental.sh
</span></code></pre></div>
<h3 id="grandfather-father-son-rotation">Grandfather-Father-Son Rotation<a class="headerlink" href="#grandfather-father-son-rotation" title="Permanent link">&para;</a></h3>
<p>The <strong>GFS rotation</strong> strategy balances retention depth with storage costs:</p>
<table>
<thead>
<tr>
<th>Level</th>
<th>Frequency</th>
<th>Retention</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Son</strong> (daily)</td>
<td>Every day</td>
<td>7-14 days</td>
<td>Recent recovery, accidental changes</td>
</tr>
<tr>
<td><strong>Father</strong> (weekly)</td>
<td>Every Sunday</td>
<td>4-5 weeks</td>
<td>Weekly recovery points</td>
</tr>
<tr>
<td><strong>Grandfather</strong> (monthly)</td>
<td>First of month</td>
<td>12 months</td>
<td>Monthly recovery, compliance</td>
</tr>
<tr>
<td><strong>Yearly</strong></td>
<td>January 1</td>
<td>3-7 years</td>
<td>Regulatory, legal holds</td>
</tr>
</tbody>
</table>
<p>A 500 GB database with GFS rotation:</p>
<ul>
<li>14 daily backups: 14 x 500 GB = 7 TB (or ~700 GB compressed)</li>
<li>4 weekly: 4 x 500 GB = 2 TB (or ~200 GB compressed)</li>
<li>12 monthly: 12 x 500 GB = 6 TB (or ~600 GB compressed)</li>
<li>Total: ~1.5 TB compressed storage for a full year of recovery points</li>
</ul>
<hr />
<h2 id="cloud-and-snapshot-backups">Cloud and Snapshot Backups<a class="headerlink" href="#cloud-and-snapshot-backups" title="Permanent link">&para;</a></h2>
<h3 id="filesystem-snapshots">Filesystem Snapshots<a class="headerlink" href="#filesystem-snapshots" title="Permanent link">&para;</a></h3>
<p><strong>Filesystem snapshots</strong> (LVM, ZFS, EBS) create near-instant point-in-time copies of the underlying storage. They are the fastest backup method because they operate below the filesystem level.</p>
<div class="admonition tip">
<p class="admonition-title">See also</p>
<p>Filesystem-level backups often use LVM snapshots. For LVM concepts, snapshot creation, and filesystem management, see <a href="../../Linux%20Essentials/disk-and-filesystem/">Disk and Filesystem</a>.</p>
</div>
<p><strong>LVM snapshots</strong>:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="c1"># Flush tables and acquire read lock</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>mysql<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;FLUSH TABLES WITH READ LOCK; SYSTEM lvcreate -L 10G -s -n mysql_snap /dev/vg0/mysql_data&quot;</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="c1"># Release the lock</span>
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a>mysql<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;UNLOCK TABLES&quot;</span>
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a>
</span><span id="__span-25-7"><a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a><span class="c1"># Mount and copy the snapshot</span>
</span><span id="__span-25-8"><a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a>mkdir<span class="w"> </span>/mnt/snap
</span><span id="__span-25-9"><a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a>mount<span class="w"> </span>/dev/vg0/mysql_snap<span class="w"> </span>/mnt/snap
</span><span id="__span-25-10"><a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a>rsync<span class="w"> </span>-a<span class="w"> </span>/mnt/snap/<span class="w"> </span>/backup/mysql_snapshot/
</span><span id="__span-25-11"><a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a>umount<span class="w"> </span>/mnt/snap
</span><span id="__span-25-12"><a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a>lvremove<span class="w"> </span>-f<span class="w"> </span>/dev/vg0/mysql_snap
</span></code></pre></div>
<p><strong>ZFS snapshots</strong>:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="c1"># Flush and snapshot (ZFS snapshots are atomic and instant)</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>mysql<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;FLUSH TABLES WITH READ LOCK&quot;</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>zfs<span class="w"> </span>snapshot<span class="w"> </span>tank/mysql@backup_<span class="k">$(</span>date<span class="w"> </span>+%Y%m%d<span class="k">)</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>mysql<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;UNLOCK TABLES&quot;</span>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a>
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="c1"># Send snapshot to remote for offsite storage</span>
</span><span id="__span-26-7"><a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a>zfs<span class="w"> </span>send<span class="w"> </span>tank/mysql@backup_20260219<span class="w"> </span><span class="p">|</span><span class="w"> </span>ssh<span class="w"> </span>backup-host<span class="w"> </span>zfs<span class="w"> </span>recv<span class="w"> </span>backup/mysql
</span></code></pre></div>
<p><strong>AWS EBS snapshots</strong>:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="c1"># Flush tables</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>mysql<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;FLUSH TABLES WITH READ LOCK&quot;</span>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="c1"># Create EBS snapshot</span>
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a>aws<span class="w"> </span>ec2<span class="w"> </span>create-snapshot<span class="w"> </span>--volume-id<span class="w"> </span>vol-0123456789abcdef0<span class="w"> </span><span class="se">\</span>
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="w">  </span>--description<span class="w"> </span><span class="s2">&quot;MySQL backup </span><span class="k">$(</span>date<span class="w"> </span>+%Y%m%d<span class="k">)</span><span class="s2">&quot;</span>
</span><span id="__span-27-7"><a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a>
</span><span id="__span-27-8"><a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a>mysql<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;UNLOCK TABLES&quot;</span>
</span></code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Consistency during snapshots</p>
<p>Without flushing tables and acquiring a lock (or using <code>xtrabackup</code>), a filesystem snapshot captures data files in an inconsistent state - some pages may be half-written. InnoDB's crash recovery can fix this on startup (similar to recovering from a power failure), but it is safer to flush first. For PostgreSQL, use <code>pg_backup_start()</code> and <code>pg_backup_stop()</code> (or <code>pg_start_backup()</code>/<code>pg_stop_backup()</code> on versions before 15) to ensure WAL consistency.</p>
</div>
<h3 id="consistency-considerations">Consistency Considerations<a class="headerlink" href="#consistency-considerations" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Database</th>
<th>Snapshot Method</th>
<th>Consistency Approach</th>
</tr>
</thead>
<tbody>
<tr>
<td>MySQL/InnoDB</td>
<td>LVM/ZFS/EBS</td>
<td><code>FLUSH TABLES WITH READ LOCK</code> then snapshot, or use XtraBackup</td>
</tr>
<tr>
<td>PostgreSQL</td>
<td>LVM/ZFS/EBS</td>
<td><code>pg_backup_start()</code> / <code>pg_backup_stop()</code> + archive WAL</td>
</tr>
<tr>
<td>Any</td>
<td>Application-level</td>
<td>Quiesce writes at application layer before snapshot</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="retention-policies">Retention Policies<a class="headerlink" href="#retention-policies" title="Permanent link">&para;</a></h2>
<p>How long you keep backups depends on three factors: recovery requirements, regulatory obligations, and storage budget.</p>
<h3 id="recovery-requirements">Recovery Requirements<a class="headerlink" href="#recovery-requirements" title="Permanent link">&para;</a></h3>
<p>Define your <strong>Recovery Point Objective</strong> (RPO) and <strong>Recovery Time Objective</strong> (RTO):</p>
<ul>
<li><strong>RPO</strong>: How much data loss is acceptable? An RPO of 1 hour means you need backups or log archiving at least every hour.</li>
<li><strong>RTO</strong>: How quickly must you restore service? An RTO of 30 minutes rules out logical backups for large databases.</li>
</ul>
<h3 id="regulatory-requirements">Regulatory Requirements<a class="headerlink" href="#regulatory-requirements" title="Permanent link">&para;</a></h3>
<p>Some industries mandate specific retention periods:</p>
<table>
<thead>
<tr>
<th>Regulation</th>
<th>Retention Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>PCI DSS</td>
<td>1 year minimum for audit logs</td>
</tr>
<tr>
<td>HIPAA</td>
<td>6 years for health records</td>
</tr>
<tr>
<td>SOX</td>
<td>7 years for financial records</td>
</tr>
<tr>
<td>GDPR</td>
<td>Only as long as necessary (minimum retention)</td>
</tr>
</tbody>
</table>
<p>GDPR is the outlier - it requires you to delete data you no longer need, which can conflict with long backup retention. Consult your compliance team.</p>
<h3 id="storage-cost-optimization">Storage Cost Optimization<a class="headerlink" href="#storage-cost-optimization" title="Permanent link">&para;</a></h3>
<p>Strategies for managing backup storage costs:</p>
<ul>
<li><strong>Tiered storage</strong>: keep recent backups on fast storage (SSD/NVMe), move older backups to cheaper storage (HDD, object storage like S3 Glacier)</li>
<li><strong>Incremental chains</strong>: store one full backup per week and incrementals daily (reduces storage by 60-80%)</li>
<li><strong>Compression</strong>: <code>gzip</code> reduces logical backups by 80-90%; <code>zstd</code> offers better compression ratios at similar speed</li>
<li><strong>Deduplication</strong>: tools like <code>borgbackup</code> or ZFS deduplication eliminate redundant blocks across backup versions</li>
</ul>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="c1"># Example: tiered storage with S3</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="c1"># Recent backups on local disk</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a>/backup/mysql/daily/<span class="w">     </span><span class="c1"># last 7 days</span>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="c1"># Weekly backups pushed to S3 Standard</span>
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>aws<span class="w"> </span>s3<span class="w"> </span>cp<span class="w"> </span>/backup/mysql/weekly/<span class="w"> </span>s3://mycompany-db-backups/weekly/<span class="w"> </span>--recursive
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a>
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="c1"># Monthly backups moved to S3 Glacier</span>
</span><span id="__span-28-9"><a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a>aws<span class="w"> </span>s3<span class="w"> </span>cp<span class="w"> </span>/backup/mysql/monthly/<span class="w"> </span>s3://mycompany-db-backups/monthly/<span class="w"> </span><span class="se">\</span>
</span><span id="__span-28-10"><a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="w">  </span>--storage-class<span class="w"> </span>GLACIER<span class="w"> </span>--recursive
</span></code></pre></div>
<hr />
<h2 id="backup-strategy-design">Backup Strategy Design<a class="headerlink" href="#backup-strategy-design" title="Permanent link">&para;</a></h2>
<div class="interactive-exercise" data-config="{&quot;title&quot;: &quot;Design a Backup Strategy&quot;, &quot;type&quot;: &quot;scenario&quot;, &quot;scenario&quot;: &quot;You manage a PostgreSQL 16 database for an e-commerce platform:\n- Database size: 80 GB and growing 2 GB/month\n- Transaction volume: ~5,000 transactions/day\n- RPO: maximum 15 minutes of data loss\n- RTO: restore within 1 hour\n- Compliance: PCI DSS (1-year retention for financial data)\n- Budget: moderate (can afford separate backup server but not enterprise solutions)\n- Current setup: no backups (you inherited this)\n\nDesign a complete backup strategy covering tools, schedules, retention, verification, and PITR.\n&quot;, &quot;tasks&quot;: [{&quot;task&quot;: &quot;Which backup tools would you use and why? Consider both logical and physical backups.&quot;, &quot;hint&quot;: &quot;Think about the RPO and RTO requirements. Which backup type meets the 1-hour RTO for 80 GB? How do you achieve 15-minute RPO?&quot;, &quot;answer&quot;: &quot;Use pg_basebackup for physical backups (meets 1-hour RTO since physical restores are fast for 80 GB). Use pg_dump -Fc for logical backups as a secondary portable copy. Enable WAL archiving with archive_command to meet the 15-minute RPO through continuous log shipping. Use pg_dumpall --globals-only to capture roles.&quot;}, {&quot;task&quot;: &quot;Define the backup schedule and retention policy.&quot;, &quot;hint&quot;: &quot;Apply GFS rotation. Consider PCI DSS requirements and the 15-minute RPO.&quot;, &quot;answer&quot;: &quot;Daily: pg_basebackup at 2 AM, retain 14 days. Weekly: promote Sunday backup to weekly, retain 5 weeks. Monthly: promote first-of-month backup to monthly, retain 13 months (PCI DSS). Continuous: WAL archiving (every completed WAL segment, typically every few minutes under load). Daily: pg_dump -Fc at 3 AM as secondary logical backup, retain 7 days. pg_dumpall --globals-only daily.&quot;}, {&quot;task&quot;: &quot;How would you verify backups and set up monitoring?&quot;, &quot;hint&quot;: &quot;Automated verification is essential. What would you check?&quot;, &quot;answer&quot;: &quot;Weekly automated restore of the latest pg_basebackup to a test instance. Run validation queries comparing row counts against production. Checksum verification (sha256sum) after backup and after any transfer. Monitor WAL archiving lag (if archive_command fails, PITR breaks). Set up alerting for backup script failures via exit codes and log monitoring. Test PITR recovery quarterly by restoring to a random point in the past week.&quot;}, {&quot;task&quot;: &quot;Document the PITR recovery procedure for a scenario where someone accidentally dropped a table at 14:30 today.&quot;, &quot;hint&quot;: &quot;Walk through each step from the last backup to recovery.&quot;, &quot;answer&quot;: &quot;1. Stop the application to prevent further writes. 2. Copy the current data directory as a safety net. 3. Restore the most recent pg_basebackup (2 AM today). 4. Configure recovery: set restore_command to copy from WAL archive, set recovery_target_time to &#39;2026-02-19 14:29:59&#39;. 5. Create recovery.signal. 6. Start PostgreSQL and let it replay WAL. 7. Verify the table exists and data looks correct. 8. Run SELECT pg_wal_replay_resume() to promote to normal mode. 9. Re-enable the application.&quot;}]}"><noscript><p><strong>Design a Backup Strategy</strong> (requires JavaScript)</p></noscript></div>
<hr />
<h2 id="further-reading">Further Reading<a class="headerlink" href="#further-reading" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://dev.mysql.com/doc/refman/8.0/en/backup-and-recovery.html">MySQL Backup and Recovery Documentation</a> - official MySQL backup reference covering all built-in tools and strategies</li>
<li><a href="https://www.postgresql.org/docs/current/continuous-archiving.html">PostgreSQL Continuous Archiving and Point-in-Time Recovery</a> - official PostgreSQL PITR documentation with WAL archiving setup</li>
<li><a href="https://docs.percona.com/percona-xtrabackup/8.0/">Percona XtraBackup Documentation</a> - full reference for hot InnoDB backups, incremental strategies, and restore procedures</li>
<li><a href="https://github.com/mydumper/mydumper">mydumper Project</a> - parallel MySQL logical backup tool documentation and usage</li>
<li><a href="https://pgbackrest.org/">pgBackRest</a> - production-grade PostgreSQL backup tool with parallel backup/restore, incremental backups, and S3 support</li>
<li><a href="https://www.pgbarman.org/">Barman by EnterpriseDB</a> - backup and recovery manager for PostgreSQL with remote backup, WAL archiving, and retention policies</li>
</ul>
<hr />
<p><strong>Previous:</strong> <a href="../redis/">Redis</a> | <strong>Next:</strong> <a href="../database-security/">Database Security</a> | <a href="../">Back to Index</a></p>









  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        Was this page helpful?
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 9v12H1V9zm4 12a2 2 0 0 1-2-2V9c0-.55.22-1.05.59-1.41L14.17 1l1.06 1.06c.27.27.44.64.44 1.05l-.03.32L14.69 8H21a2 2 0 0 1 2 2v2c0 .26-.05.5-.14.73l-3.02 7.05C19.54 20.5 18.83 21 18 21zm0-2h9.03L21 12v-2h-8.79l1.13-5.32L9 9.03z"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 15V3h4v12zM15 3a2 2 0 0 1 2 2v10c0 .55-.22 1.05-.59 1.41L9.83 23l-1.06-1.06c-.27-.27-.44-.64-.44-1.06l.03-.31.95-4.57H3a2 2 0 0 1-2-2v-2c0-.26.05-.5.14-.73l3.02-7.05C4.46 3.5 5.17 3 6 3zm0 2H5.97L3 12v2h8.78l-1.13 5.32L15 14.97z"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              
              
                
                
              
              Thanks for your feedback!
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              
              
                
                
              
              Thanks for your feedback! Help us improve by <a href="https://github.com/ringo380/guides/issues/new?template=content-improvement.yml&title=[Feedback]+Backup%20%26%20Recovery%20Strategies" target="_blank" rel="noopener">opening an issue</a>.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>

<!-- SPDX-License-Identifier: MIT | Copyright (c) 2025-2026 Robworks Software LLC -->
<!-- Giscus comments - GitHub Discussions-backed -->

  <h2 id="__comments">Comments</h2>

  <script
    src="https://giscus.app/client.js"
    data-repo="ringo380/guides"
    data-repo-id="R_kgDOM3QMrQ"
    data-category="General"
    data-category-id="DIC_kwDOM3QMrc4C2qV9"
    data-mapping="pathname"
    data-strict="1"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="top"
    data-theme="preferred_color_scheme"
    data-lang="en"
    data-loading="lazy"
    crossorigin="anonymous"
    async>
  </script>

                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025-2026 Robworks Software LLC
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/ringo380" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://linkedin.com/in/robworks" target="_blank" rel="noopener" title="linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://bsky.app/profile/lessoncraft.bsky.social" target="_blank" rel="noopener" title="bsky.app" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M407.8 294.7c-3.3-.4-6.7-.8-10-1.3 3.4.4 6.7.9 10 1.3M288 227.1c-26.1-50.7-97.1-145.2-163.1-191.8C61.6-9.4 37.5-1.7 21.6 5.5 3.3 13.8 0 41.9 0 58.4S9.1 194 15 213.9c19.5 65.7 89.1 87.9 153.2 80.7 3.3-.5 6.6-.9 10-1.4-3.3.5-6.6 1-10 1.4-93.9 14-177.3 48.2-67.9 169.9C220.6 589.1 265.1 437.8 288 361.1c22.9 76.7 49.2 222.5 185.6 103.4 102.4-103.4 28.1-156-65.8-169.9-3.3-.4-6.7-.8-10-1.3 3.4.4 6.7.9 10 1.3 64.1 7.1 133.6-15.1 153.2-80.7C566.9 194 576 75 576 58.4s-3.3-44.7-21.6-52.9c-15.8-7.1-40-14.9-103.2 29.8C385.1 81.9 314.1 176.4 288 227.1"/></svg>
    </a>
  
    
    
      
    
    
    
      
      
    
    <a href="https://mastodon.social/@runbook" target="_blank" rel="noopener me" title="mastodon.social" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M433 179.1c0-97.2-63.7-125.7-63.7-125.7-62.5-28.7-228.6-28.4-290.5 0 0 0-63.7 28.5-63.7 125.7 0 115.7-6.6 259.4 105.6 289.1 40.5 10.7 75.3 13 103.3 11.4 50.8-2.8 79.3-18.1 79.3-18.1l-1.7-36.9s-36.3 11.4-77.1 10.1c-40.4-1.4-83-4.4-89.6-54-.6-4.6-.9-9.3-.9-13.9 85.6 20.9 158.7 9.1 178.7 6.7 56.1-6.7 105-41.3 111.2-72.9 9.8-49.8 9-121.5 9-121.5zm-75.1 125.2h-46.6V190.1c0-49.7-64-51.6-64 6.9v62.5H201V197c0-58.5-64-56.6-64-6.9v114.2H90.3c0-122.1-5.2-147.9 18.4-175 25.9-28.9 79.8-30.8 103.8 6.1l11.6 19.5 11.6-19.5c24.1-37.1 78.1-34.8 103.8-6.1 23.7 27.3 18.4 53 18.4 175"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://threads.net/@robworks_software" target="_blank" rel="noopener" title="threads.net" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M331.5 235.7c2.2.9 4.2 1.9 6.3 2.8 29.2 14.1 50.6 35.2 61.8 61.4 15.7 36.5 17.2 95.8-30.3 143.2-36.2 36.2-80.3 52.5-142.6 53h-.3c-70.2-.5-124.1-24.1-160.4-70.2-32.3-41-48.9-98.1-49.5-169.6v-.5c.5-71.5 17.1-128.6 49.4-169.6 36.3-46.1 90.3-69.7 160.5-70.2h.3c70.3.5 124.9 24 162.3 69.9 18.4 22.7 32 50 40.6 81.7l-40.4 10.8c-7.1-25.8-17.8-47.8-32.2-65.4-29.2-35.8-73-54.2-130.5-54.6-57 .5-100.1 18.8-128.2 54.4C72.1 146.1 58.5 194.3 58 256c.5 61.7 14.1 109.9 40.3 143.3 28 35.6 71.2 53.9 128.2 54.4 51.4-.4 85.4-12.6 113.7-40.9 32.3-32.2 31.7-71.8 21.4-95.9-6.1-14.2-17.1-26-31.9-34.9-3.7 26.9-11.8 48.3-24.7 64.8-17.1 21.8-41.4 33.6-72.7 35.3-23.6 1.3-46.3-4.4-63.9-16-20.8-13.8-33-34.8-34.3-59.3-2.5-48.3 35.7-83 95.2-86.4 21.1-1.2 40.9-.3 59.2 2.8-2.4-14.8-7.3-26.6-14.6-35.2-10-11.7-25.6-17.7-46.2-17.8h-.7c-16.6 0-39 4.6-53.3 26.3l-34.4-23.6c19.2-29.1 50.3-45.1 87.8-45.1h.8c62.6.4 99.9 39.5 103.7 107.7l-.2.2zm-156 68.8c1.3 25.1 28.4 36.8 54.6 35.3 25.6-1.4 54.6-11.4 59.5-73.2-13.2-2.9-27.8-4.4-43.4-4.4-4.8 0-9.6.1-14.4.4-42.9 2.4-57.2 23.2-56.2 41.8z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            



  

<h4>Cookie consent</h4>
<p>We use cookies to recognize repeat visits and measure engagement with guides. With your consent, you help us improve the content.</p>
<input class="md-toggle" type="checkbox" id="__settings" checked>
<div class="md-consent__settings">
  <ul class="task-list">
    
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="github" checked>
      <span class="task-list-indicator"></span>
      GitHub
    </label>
  </li>

      
    
    
      
        
  
  
    
    
      
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="analytics" checked>
      <span class="task-list-indicator"></span>
      Google Analytics
    </label>
  </li>

      
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
      <button type="reset" class="md-button md-button--primary">Reject</button>
    
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.tabs", "navigation.top", "navigation.instant", "navigation.tracking", "navigation.indexes", "search.suggest", "search.highlight", "content.code.copy", "content.action.edit"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../assets/javascripts/interactive.js"></script>
      
        <script src="../../assets/javascripts/giscus-theme.js"></script>
      
        <script src="../../assets/javascripts/lightbox.js"></script>
      
        <script src="../../js/open_in_new_tab.js"></script>
      
    
  </body>
</html>